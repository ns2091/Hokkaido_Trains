# 0 ".\\HokkaidoTrains.pnml"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 ".\\HokkaidoTrains.pnml"
# 1 "src/grf_settings.pnml" 1
grf {
    grfid: "JHT\01";
    name: string(STR_GRF_NAME);
    desc: string(STR_GRF_DESC);
    version: 1;
    min_compatible_version: 1;

    // 設定画面のパラメータを定義する

    param 0 {
        param_capacity_settings {
            type: int;
            name: string(STR_PARAM_CAPACITY_SETTINGS_NAME);
            desc: string(STR_PARAM_CAPACITY_SETTINGS_DESC);
            min_value: 0;
            max_value: 3;
            def_value: 0;
            names: {
                0: string(STR_PARAM_CAPACITY_SETTINGS_REAL);
                1: string(STR_PARAM_CAPACITY_SETTINGS_LOW);
                2: string(STR_PARAM_CAPACITY_SETTINGS_MID);
                3: string(STR_PARAM_CAPACITY_SETTINGS_HIGH);
            };
        }
    }

    param 1 {
        param_isenable_variable_capacity {
            type: bool;
            name: string(STR_PARAM_ISVARIABLE_CAPACITY_NAME);
            desc: string(STR_PARAM_ISVARIABLE_CAPACITY_DESC);
            bit: 1;
        }
    }

    param 2 {
        param_variable_capacity {
            type: int;
            name: string(STR_PARAM_VARIABLE_CAPACITY_NAME);
            desc: string(STR_PARAM_VARIABLE_CAPACITY_DESC);
            min_value: 0;
            max_value: 1200;
            def_value: 60;
        }
    }

    param 3 {
        param_loading_settings {
            type: int;
            name: string(STR_PARAM_LOADING_SETTINGS_NAME);
            desc: string(STR_PARAM_LOADING_SETTINGS_DESC);
            min_value: 0;
            max_value: 2;
            def_value: 2;
            names: {
                0: string(STR_PARAM_LOADING_SETTINGS_LOW);
                1: string(STR_PARAM_LOADING_SETTINGS_MID);
                2: string(STR_PARAM_LOADING_SETTINGS_HIGH);
            };
        }
    }
}
# 2 ".\\HokkaidoTrains.pnml" 2
# 1 "src/utilities.pnml" 1
railtypetable {
 RAIL,
 ELRL,
 RAILTYPE_ELECTRIC: [NABE, NAAE, RAIL],
 RAILTYPE_DIESEL: [NAAN, RAIL],
}


template tmpl_vehicle_basic(x, y) {
    [x, y, 8, 24, -3, -12]
    [x + 9, y, 22, 20, -14, -12]
    [x + 32, y, 32, 16, -16, -12]
    [x + 65, y, 22, 20, -6, -12]
}

// template tmpl_vehicle_4_views(num) {
    // tmpl_vehicle_basic(1, 1 + 25 * num)
// }

template tmpl_vehicle_8_views(num, reversed) {
    tmpl_vehicle_basic(reversed ? 89 : 1, 1 + 25 * num)
    tmpl_vehicle_basic(reversed ? 1 : 89, 1 + 25 * num)
}

// xrel, yrelは表示画面のオフセット
template tmpl_vehicle_single(num, xsize, ysize, xrel, yrel) {
    [1, 11 + 25 * num, xsize, ysize, xrel, yrel]
}
# 3 ".\\HokkaidoTrains.pnml" 2
# 1 "src/variables.pnml" 1
param_capacity_commuter = param_capacity_express * 3 / 2; // param_exp * 1.5
param_capacity_suburban = param_capacity_express * 4 / 3; // param_exp * (1 + 1/3)
param_capacity_express =
    param_isenable_variable_capacity ? param_variable_capacity :
        param_capacity_settings == 0 ? 60 :
            param_capacity_settings == 1 ? 40 :
                param_capacity_settings == 2 ? 80 : 120;

param_loading_commuter = param_loading_express * 3;
param_loading_suburban = param_loading_express * 2;
param_loading_express =
    param_loading_settings == 1 ? 20 :
        param_loading_settings == 2 ? 30 : 50;


param_diesel_decay_factor = 2;
# 4 ".\\HokkaidoTrains.pnml" 2
# 1 "src/vehicle_id.pnml" 1
// ID(数字)を事前定義しておくと、動的にIDが変更されてセーブデータの互換性がなくなるのを防げる

item(FEAT_TRAINS, emu721_3cars , 3011) {}
item(FEAT_TRAINS, emu721_6cars , 3012) {}
item(FEAT_TRAINS, emu731_3cars , 3021) {}
item(FEAT_TRAINS, emu733_3cars , 3031) {}
item(FEAT_TRAINS, emu733_6cars , 3032) {}
item(FEAT_TRAINS, emu735_3cars , 3041) {}
item(FEAT_TRAINS, dmu201_3cars , 3051) {}
item(FEAT_TRAINS, emu785_0_5cars , 3061) {}
item(FEAT_TRAINS, emu785_0_4cars , 3062) {}
item(FEAT_TRAINS, emu785_0_2cars , 3063) {}
item(FEAT_TRAINS, emu789_0_6cars , 3071) {}
item(FEAT_TRAINS, emu789_0_3cars , 3072) {}
item(FEAT_TRAINS, emu789_0_2cars , 3073) {}
item(FEAT_TRAINS, emu785_300_2cars , 3074) {}
item(FEAT_TRAINS, emu789_1000_5cars, 3081) {}
item(FEAT_TRAINS, dmu261_0_4cars , 3091) {}
item(FEAT_TRAINS, dmu261_0_2cars , 3092) {}
item(FEAT_TRAINS, dmu261_1000_7cars, 3101) {}
item(FEAT_TRAINS, dmu261_1000_5cars, 3102) {}
item(FEAT_TRAINS, dmu261_1000_2cars, 3103) {}
item(FEAT_TRAINS, dmu261_1000_1car , 3104) {}
item(FEAT_TRAINS, dmu281_7cars , 3111) {}
item(FEAT_TRAINS, dmu281_1car , 3112) {}
item(FEAT_TRAINS, dmu283_6cars , 3113) {}
item(FEAT_TRAINS, dmu283_1car , 3114) {}
item(FEAT_TRAINS, emu737_2cars , 3121) {}
item(FEAT_TRAINS, dmuH100 , 3131) {}
# 5 ".\\HokkaidoTrains.pnml" 2
# 1 "src/vehicles.pnml" 1
# 1 "src/vehicles/721group/721group_main.pnml" 1
spriteset( set_721_purchase, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_721_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_721_front_tc_tomakomai, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_721_rear_tc_tomakomai, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_721_unlited_tc_tomakomai, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_721_front_tc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }
spriteset(set_721_rear_tc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 5, 0) }
spriteset(set_721_unlited_tc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 6, 0) }
spriteset(set_721_mp_thyristor, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 7, 0) }
spriteset(set_721_tu_renew, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 8, 0) }
spriteset(set_721_tn, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 9, 0) }
spriteset(set_721_front_tcu_tomakomai_renew, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(10, 0) }
spriteset(set_721_rear_tcu_tomakomai_renew, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(11, 0) }
spriteset(set_721_unlited_tcu_tomakomai_renew, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(12, 0) }
spriteset(set_721_front_tcu_tomakomai_init, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(13, 0) }
spriteset(set_721_rear_tcu_tomakomai_init, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(14, 0) }
spriteset(set_721_unlited_tcu_tomakomai_init, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(15, 0) }
spriteset(set_721_mp_vvvf, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(16, 0) }
spriteset(set_721_tu_init, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(17, 0) }
spriteset(set_721_front_mc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(18, 0) }
spriteset(set_721_rear_mc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(19, 0) }
spriteset(set_721_unlited_mc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(20, 0) }
spriteset(set_721_mn, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(21, 0) }
spriteset(set_721_front_tc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(22, 0) }
spriteset(set_721_rear_tc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(23, 0) }
spriteset(set_721_unlited_tc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(24, 0) }
spriteset(set_721_front_mc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(25, 0) }
spriteset(set_721_rear_mc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(26, 0) }
spriteset(set_721_unlited_mc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(27, 0) }

spriteset(set_721f_front_tc_tomakomai, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_721f_rear_tc_tomakomai, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_721f_unlited_tc_tomakomai, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_721f_front_tc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }
spriteset(set_721f_rear_tc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 5, 1) }
spriteset(set_721f_unlited_tc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 6, 1) }
spriteset(set_721f_mp_thyristor, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 7, 1) }
spriteset(set_721f_tu_renew, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 8, 1) }
spriteset(set_721f_tn, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views( 9, 1) }
spriteset(set_721f_front_tcu_tomakomai_renew, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(10, 1) }
spriteset(set_721f_rear_tcu_tomakomai_renew, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(11, 1) }
spriteset(set_721f_unlited_tcu_tomakomai_renew, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(12, 1) }
spriteset(set_721f_front_tcu_tomakomai_init, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(13, 1) }
spriteset(set_721f_rear_tcu_tomakomai_init, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(14, 1) }
spriteset(set_721f_unlited_tcu_tomakomai_init, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(15, 1) }
spriteset(set_721f_mp_vvvf, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(16, 1) }
spriteset(set_721f_tu_init, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(17, 1) }
spriteset(set_721f_front_mc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(18, 1) }
spriteset(set_721f_rear_mc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(19, 1) }
spriteset(set_721f_unlited_mc_otaru, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(20, 1) }
spriteset(set_721f_mn, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(21, 1) }
spriteset(set_721f_front_tc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(22, 1) }
spriteset(set_721f_rear_tc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(23, 1) }
spriteset(set_721f_unlited_tc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(24, 1) }
spriteset(set_721f_front_mc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(25, 1) }
spriteset(set_721f_rear_mc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(26, 1) }
spriteset(set_721f_unlited_mc_otaru_hood, "gfx/8bpp/721-8bpp.png") { tmpl_vehicle_8_views(27, 1) }

alternative_sprites(set_721_front_tc_tomakomai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_721_rear_tc_tomakomai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_721_unlited_tc_tomakomai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_721_front_tc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }
alternative_sprites(set_721_rear_tc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 5, 0) }
alternative_sprites(set_721_unlited_tc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 6, 0) }
alternative_sprites(set_721_mp_thyristor, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 7, 0) }
alternative_sprites(set_721_tu_renew, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 8, 0) }
alternative_sprites(set_721_tn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 9, 0) }
alternative_sprites(set_721_front_tcu_tomakomai_renew, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(10, 0) }
alternative_sprites(set_721_rear_tcu_tomakomai_renew, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(11, 0) }
alternative_sprites(set_721_unlited_tcu_tomakomai_renew, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(12, 0) }
alternative_sprites(set_721_front_tcu_tomakomai_init, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(13, 0) }
alternative_sprites(set_721_rear_tcu_tomakomai_init, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(14, 0) }
alternative_sprites(set_721_unlited_tcu_tomakomai_init, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(15, 0) }
alternative_sprites(set_721_mp_vvvf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(16, 0) }
alternative_sprites(set_721_tu_init, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(17, 0) }
alternative_sprites(set_721_front_mc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(18, 0) }
alternative_sprites(set_721_rear_mc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(19, 0) }
alternative_sprites(set_721_unlited_mc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(20, 0) }
alternative_sprites(set_721_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(21, 0) }
alternative_sprites(set_721_front_tc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(22, 0) }
alternative_sprites(set_721_rear_tc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(23, 0) }
alternative_sprites(set_721_unlited_tc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(24, 0) }
alternative_sprites(set_721_front_mc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(25, 0) }
alternative_sprites(set_721_rear_mc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(26, 0) }
alternative_sprites(set_721_unlited_mc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(27, 0) }

alternative_sprites(set_721f_front_tc_tomakomai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_721f_rear_tc_tomakomai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_721f_unlited_tc_tomakomai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_721f_front_tc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }
alternative_sprites(set_721f_rear_tc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 5, 1) }
alternative_sprites(set_721f_unlited_tc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 6, 1) }
alternative_sprites(set_721f_mp_thyristor, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 7, 1) }
alternative_sprites(set_721f_tu_renew, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 8, 1) }
alternative_sprites(set_721f_tn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views( 9, 1) }
alternative_sprites(set_721f_front_tcu_tomakomai_renew, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(10, 1) }
alternative_sprites(set_721f_rear_tcu_tomakomai_renew, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(11, 1) }
alternative_sprites(set_721f_unlited_tcu_tomakomai_renew, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(12, 1) }
alternative_sprites(set_721f_front_tcu_tomakomai_init, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(13, 1) }
alternative_sprites(set_721f_rear_tcu_tomakomai_init, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(14, 1) }
alternative_sprites(set_721f_unlited_tcu_tomakomai_init, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(15, 1) }
alternative_sprites(set_721f_mp_vvvf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(16, 1) }
alternative_sprites(set_721f_tu_init, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(17, 1) }
alternative_sprites(set_721f_front_mc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(18, 1) }
alternative_sprites(set_721f_rear_mc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(19, 1) }
alternative_sprites(set_721f_unlited_mc_otaru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(20, 1) }
alternative_sprites(set_721f_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(21, 1) }
alternative_sprites(set_721f_front_tc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(22, 1) }
alternative_sprites(set_721f_rear_tc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(23, 1) }
alternative_sprites(set_721f_unlited_tc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(24, 1) }
alternative_sprites(set_721f_front_mc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(25, 1) }
alternative_sprites(set_721f_rear_mc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(26, 1) }
alternative_sprites(set_721f_unlited_mc_otaru_hood, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/721-32bpp.png") { tmpl_vehicle_8_views(27, 1) }



spriteset(set_731_purchase, "gfx/8bpp/731-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_731_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/731-32bpp_gradient.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_731_front_tc, "gfx/8bpp/731-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_731_rear_tc, "gfx/8bpp/731-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_731_unlited_tc, "gfx/8bpp/731-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_731_mp, "gfx/8bpp/731-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }

spriteset(set_731f_front_tc, "gfx/8bpp/731-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_731f_rear_tc, "gfx/8bpp/731-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_731f_unlited_tc,"gfx/8bpp/731-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_731f_mp, "gfx/8bpp/731-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }

alternative_sprites(set_731_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/731-32bpp_gradient.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_731_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/731-32bpp_gradient.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_731_unlited_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/731-32bpp_gradient.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_731_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/731-32bpp_gradient.png") { tmpl_vehicle_8_views( 4, 0) }

alternative_sprites(set_731f_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/731-32bpp_gradient.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_731f_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/731-32bpp_gradient.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_731f_unlited_tc,ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/731-32bpp_gradient.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_731f_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/731-32bpp_gradient.png") { tmpl_vehicle_8_views( 4, 1) }



spriteset(set_733_purchase, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_733_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_733_front_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_733_rear_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_733_unlited_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_733_tn, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }
spriteset(set_733_mp, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 5, 0) }
spriteset(set_733_3000_tu, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 6, 0) }
spriteset(set_733_3000_mp, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 7, 0) }
spriteset(set_733_1000_front_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 8, 0) }
spriteset(set_733_1000_rear_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 9, 0) }
spriteset(set_733_1000_unlited_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(10, 0) }
spriteset(set_733_1000_mp, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(11, 0) }
spriteset(set_733_front_tc_nh, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(12, 0) }
spriteset(set_733_rear_tc_nh, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(13, 0) }
spriteset(set_733_unlited_tc_nh, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(14, 0) }

spriteset(set_733f_front_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_733f_rear_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_733f_unlited_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_733f_tn, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }
spriteset(set_733f_mp, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 5, 1) }
spriteset(set_733f_3000_tu, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 6, 1) }
spriteset(set_733f_3000_mp, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 7, 1) }
spriteset(set_733f_1000_front_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 8, 1) }
spriteset(set_733f_1000_rear_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views( 9, 1) }
spriteset(set_733f_1000_unlited_tc, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(10, 1) }
spriteset(set_733f_1000_mp, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(11, 1) }
spriteset(set_733f_front_tc_nh, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(12, 1) }
spriteset(set_733f_rear_tc_nh, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(13, 1) }
spriteset(set_733f_unlited_tc_nh, "gfx/8bpp/733-8bpp.png") { tmpl_vehicle_8_views(14, 1) }

alternative_sprites(set_733_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_733_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_733_unlited_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_733_tn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }
alternative_sprites(set_733_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 5, 0) }
alternative_sprites(set_733_3000_tu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 6, 0) }
alternative_sprites(set_733_3000_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 7, 0) }
alternative_sprites(set_733_1000_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 8, 0) }
alternative_sprites(set_733_1000_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 9, 0) }
alternative_sprites(set_733_1000_unlited_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(10, 0) }
alternative_sprites(set_733_1000_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(11, 0) }
alternative_sprites(set_733_front_tc_nh, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(12, 0) }
alternative_sprites(set_733_rear_tc_nh, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(13, 0) }
alternative_sprites(set_733_unlited_tc_nh, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(14, 0) }

alternative_sprites(set_733f_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_733f_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_733f_unlited_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_733f_tn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }
alternative_sprites(set_733f_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 5, 1) }
alternative_sprites(set_733f_3000_tu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 6, 1) }
alternative_sprites(set_733f_3000_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 7, 1) }
alternative_sprites(set_733f_1000_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 8, 1) }
alternative_sprites(set_733f_1000_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views( 9, 1) }
alternative_sprites(set_733f_1000_unlited_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(10, 1) }
alternative_sprites(set_733f_1000_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(11, 1) }
alternative_sprites(set_733f_front_tc_nh, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(12, 1) }
alternative_sprites(set_733f_rear_tc_nh, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(13, 1) }
alternative_sprites(set_733f_unlited_tc_nh, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/733-32bpp.png") { tmpl_vehicle_8_views(14, 1) }



spriteset(set_735_purchase, "gfx/8bpp/735-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_735_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/735-32bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_735_front_tc, "gfx/8bpp/735-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_735_rear_tc, "gfx/8bpp/735-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_735_unlited_tc, "gfx/8bpp/735-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_735_mp, "gfx/8bpp/735-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }

spriteset(set_735f_front_tc, "gfx/8bpp/735-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_735f_rear_tc, "gfx/8bpp/735-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_735f_unlited_tc,"gfx/8bpp/735-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_735f_mp, "gfx/8bpp/735-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }

alternative_sprites(set_735_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/735-32bpp.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_735_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/735-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_735_unlited_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/735-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_735_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/735-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }

alternative_sprites(set_735f_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/735-32bpp.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_735f_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/735-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_735f_unlited_tc,ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/735-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_735f_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/735-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }



spriteset(set_dc201_purchase, "gfx/8bpp/dc201-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_dc201_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc201-32bpp_gradient.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_dc201_front_mc, "gfx/8bpp/dc201-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_dc201_rear_mc, "gfx/8bpp/dc201-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_dc201_unlited_mc, "gfx/8bpp/dc201-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_dc201_mn, "gfx/8bpp/dc201-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }

spriteset(set_dc201f_front_mc, "gfx/8bpp/dc201-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_dc201f_rear_mc, "gfx/8bpp/dc201-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_dc201f_unlited_mc,"gfx/8bpp/dc201-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_dc201f_mn, "gfx/8bpp/dc201-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }

alternative_sprites(set_dc201_front_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc201-32bpp_gradient.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_dc201_rear_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc201-32bpp_gradient.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_dc201_unlited_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc201-32bpp_gradient.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_dc201_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc201-32bpp_gradient.png") { tmpl_vehicle_8_views( 4, 0) }

alternative_sprites(set_dc201f_front_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc201-32bpp_gradient.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_dc201f_rear_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc201-32bpp_gradient.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_dc201f_unlited_mc,ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc201-32bpp_gradient.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_dc201f_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc201-32bpp_gradient.png") { tmpl_vehicle_8_views( 4, 1) }



// 721series
// Tomakomai
switch(FEAT_TRAINS, SELF, sw_721_front_tc_tomakomai, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721_front_tc_tomakomai;
    default: set_721_unlited_tc_tomakomai;
}
switch(FEAT_TRAINS, SELF, sw_721f_rear_tc_tomakomai, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721f_rear_tc_tomakomai;
    default: set_721f_unlited_tc_tomakomai;
}

// Otaru
switch(FEAT_TRAINS, SELF, sw_721_front_tc_otaru, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721_front_tc_otaru;
    default: set_721_unlited_tc_otaru;
}
switch(FEAT_TRAINS, SELF, sw_721f_rear_tc_otaru, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721f_rear_tc_otaru;
    default: set_721f_unlited_tc_otaru;
}

// Tomakomai Renew
switch(FEAT_TRAINS, SELF, sw_721_front_tcu_tomakomai_renew, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721_front_tcu_tomakomai_renew;
    default: set_721_unlited_tcu_tomakomai_renew;
}
switch(FEAT_TRAINS, SELF, sw_721f_rear_tcu_tomakomai_renew, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721f_rear_tcu_tomakomai_renew;
    default: set_721f_unlited_tcu_tomakomai_renew;
}

// Tomakomai Init
switch(FEAT_TRAINS, SELF, sw_721_front_tcu_tomakomai_init, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721_front_tcu_tomakomai_init;
    default: set_721_unlited_tcu_tomakomai_init;
}
switch(FEAT_TRAINS, SELF, sw_721f_rear_tcu_tomakomai_init, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721f_rear_tcu_tomakomai_init;
    default: set_721f_unlited_tcu_tomakomai_init;
}

// Otaru
switch(FEAT_TRAINS, SELF, sw_721_front_mc_otaru, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721_front_mc_otaru;
    default: set_721_unlited_mc_otaru;
}
switch(FEAT_TRAINS, SELF, sw_721f_rear_mc_otaru, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721f_rear_mc_otaru;
    default: set_721f_unlited_mc_otaru;
}

// Otaru Hood
switch(FEAT_TRAINS, SELF, sw_721_front_tc_otaru_hood, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721_front_tc_otaru_hood;
    default: set_721_unlited_tc_otaru_hood;
}
switch(FEAT_TRAINS, SELF, sw_721f_rear_tc_otaru_hood, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721f_rear_tc_otaru_hood;
    default: set_721f_unlited_tc_otaru_hood;
}

// Otaru Hood for MC
switch(FEAT_TRAINS, SELF, sw_721_front_mc_otaru_hood, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721_front_mc_otaru_hood;
    default: set_721_unlited_mc_otaru_hood;
}
switch(FEAT_TRAINS, SELF, sw_721f_rear_mc_otaru_hood, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_721f_rear_mc_otaru_hood;
    default: set_721f_unlited_mc_otaru_hood;
}


switch(FEAT_TRAINS, SELF, sw_721_3cars_initial, position_in_articulated_veh) {
 // Mc721 + Mp721 + Tc721
 0: sw_721_front_mc_otaru_hood;
 1: set_721_mp_thyristor;
 2: sw_721f_rear_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721f_3cars_initial, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_721f_rear_mc_otaru_hood;
 1: set_721f_mp_thyristor;
 2: sw_721_front_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721_6cars_miduseat_initial, position_in_articulated_veh) {
 // Mc721 + Mp721 + Tu721 + Mn720 + Mp721 + Tc721
 0: set_721_front_mc_otaru;
 1: set_721_mp_thyristor;
 2: set_721_tu_init;
 3: set_721_mn;
 4: set_721_mp_thyristor;
 5: set_721f_rear_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721f_6cars_miduseat_initial, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%6]) {
 0: set_721f_rear_mc_otaru;
 1: set_721f_mp_thyristor;
 2: set_721f_tu_init;
 3: set_721f_mn;
 4: set_721f_mp_thyristor;
 5: set_721_front_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721_3cars_ctruseat_initial, position_in_articulated_veh) {
 // Mc721 + Mp721 + Tcu721
 0: sw_721_front_mc_otaru_hood;
 1: set_721_mp_thyristor;
 2: sw_721f_rear_tcu_tomakomai_init;
}

switch(FEAT_TRAINS, SELF, sw_721f_3cars_ctruseat_initial, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_721f_rear_mc_otaru_hood;
 1: set_721f_mp_thyristor;
 2: sw_721_front_tcu_tomakomai_init;
}

switch(FEAT_TRAINS, SELF, sw_721_6cars_miduseat_renewal, position_in_articulated_veh) {
 // Mc721 + Mp721 + Tu721 + Mn720 + Mp721 + Tc721
 0: set_721_front_mc_otaru;
 1: set_721_mp_thyristor;
 2: set_721_tu_renew;
 3: set_721_mn;
 4: set_721_mp_thyristor;
 5: set_721f_rear_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721f_6cars_miduseat_renewal, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%6]) {
 0: set_721f_rear_mc_otaru;
 1: set_721f_mp_thyristor;
 2: set_721f_tu_renew;
 3: set_721f_mn;
 4: set_721f_mp_thyristor;
 5: set_721_front_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721_3cars_ctruseat_renewal, position_in_articulated_veh) {
 // Mc721 + Mp721 + Tcu721
 0: sw_721_front_mc_otaru_hood;
 1: set_721_mp_thyristor;
 2: sw_721f_rear_tcu_tomakomai_renew;
}

switch(FEAT_TRAINS, SELF, sw_721f_3cars_ctruseat_renewal, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_721f_rear_mc_otaru_hood;
 1: set_721f_mp_thyristor;
 2: sw_721_front_tcu_tomakomai_renew;
}

switch(FEAT_TRAINS, SELF, sw_721_3cars_vvvf, position_in_articulated_veh) {
 // Tc721 + Mp721 + Tc721
 0: sw_721_front_tc_otaru_hood;
 1: set_721_mp_vvvf;
 2: sw_721f_rear_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721f_3cars_vvvf, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_721f_rear_tc_otaru_hood;
 1: set_721f_mp_vvvf;
 2: sw_721_front_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721_6cars_vvvf_miduseat_renewal, position_in_articulated_veh) {
 // Tc721 + Mp721 + Tu721 + Tn720 + Mp721 + Tc721
 0: set_721_front_tc_otaru;
 1: set_721_mp_vvvf;
 2: set_721_tu_renew;
 3: set_721_tn;
 4: set_721_mp_vvvf;
 5: set_721f_rear_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721f_6cars_vvvf_miduseat_renewal, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%6]) {
 0: set_721f_rear_tc_otaru;
 1: set_721f_mp_vvvf;
 2: set_721f_tu_renew;
 3: set_721f_tn;
 4: set_721f_mp_vvvf;
 5: set_721_front_tc_tomakomai;
}

switch(FEAT_TRAINS, SELF, sw_721_3cars_vvvf_ctruseat_renewal, position_in_articulated_veh) {
 // Tc721 + Mp721 + Tcu721
 0: sw_721_front_mc_otaru_hood;
 1: set_721_mp_vvvf;
 2: sw_721f_rear_tcu_tomakomai_renew;
}

switch(FEAT_TRAINS, SELF, sw_721f_3cars_vvvf_ctruseat_renewal, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_721f_rear_mc_otaru_hood;
 1: set_721f_mp_vvvf;
 2: sw_721_front_tcu_tomakomai_renew;
}

switch(FEAT_TRAINS, SELF, sw_721_3cars_formations, cargo_subtype) {
 0: sw_721_3cars_initial;
 1: sw_721_3cars_ctruseat_initial;
 2: sw_721_3cars_ctruseat_renewal;
 3: sw_721_3cars_vvvf;
 4: sw_721_3cars_vvvf_ctruseat_renewal;
 default: CB_FAILED;
}

switch(FEAT_TRAINS, SELF, sw_721f_3cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 0: sw_721f_3cars_initial;
 1: sw_721f_3cars_ctruseat_initial;
 2: sw_721f_3cars_ctruseat_renewal;
 3: sw_721f_3cars_vvvf;
 4: sw_721f_3cars_vvvf_ctruseat_renewal;
 default: CB_FAILED;
}

switch(FEAT_TRAINS, SELF, sw_721_6cars_formations, cargo_subtype) {
 0: sw_721_6cars_vvvf_miduseat_renewal;
 1: sw_721_6cars_miduseat_renewal;
 2: sw_721_6cars_miduseat_initial;
 default: CB_FAILED;
}

switch(FEAT_TRAINS, SELF, sw_721f_6cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 0: sw_721f_6cars_vvvf_miduseat_renewal;
 1: sw_721f_6cars_miduseat_renewal;
 2: sw_721f_6cars_miduseat_initial;
 default: CB_FAILED;
}



// 731series
switch(FEAT_TRAINS, SELF, sw_731_front_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_731_unlited_tc;
 default: set_731_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_731_rear_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_731_unlited_tc;
 default: set_731_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_731f_front_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_731f_unlited_tc;
 default: set_731f_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_731f_rear_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_731f_unlited_tc;
 default: set_731f_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_731_3cars_initial, position_in_articulated_veh) {
 0: sw_731_front_tc;
 1: set_731_mp;
 2: sw_731f_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_731f_3cars_initial, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_731f_rear_tc;
 1: set_731f_mp;
 2: sw_731_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_731_3cars_formations, cargo_subtype) {
 default: sw_731_3cars_initial;
}

switch(FEAT_TRAINS, SELF, sw_731f_3cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 default: sw_731f_3cars_initial;
}


// 733series
switch(FEAT_TRAINS, SELF, sw_733_front_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733_unlited_tc;
 default: set_733_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_733f_rear_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733f_unlited_tc;
 default: set_733f_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_733f_front_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733f_unlited_tc;
 default: set_733f_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_733_front_tc_nh, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733_unlited_tc_nh;
 default: set_733_front_tc_nh;
}

switch(FEAT_TRAINS, SELF, sw_733_rear_tc_nh, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733_unlited_tc_nh;
 default: set_733_rear_tc_nh;
}

switch(FEAT_TRAINS, SELF, sw_733f_front_tc_nh, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733f_unlited_tc_nh;
 default: set_733f_front_tc_nh;
}

switch(FEAT_TRAINS, SELF, sw_733f_rear_tc_nh, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733f_unlited_tc_nh;
 default: set_733f_rear_tc_nh;
}

switch(FEAT_TRAINS, SELF, sw_733_1000_front_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733_1000_unlited_tc;
 default: set_733_1000_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_733_1000_rear_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733_1000_unlited_tc;
 default: set_733_1000_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_733f_1000_front_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733f_1000_unlited_tc;
 default: set_733f_1000_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_733f_1000_rear_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_733f_1000_unlited_tc;
 default: set_733f_1000_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_733_3cars_initial, position_in_articulated_veh) {
 0: sw_733_front_tc;
 1: set_733_mp;
 2: sw_733f_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_733f_3cars_initial, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_733f_rear_tc;
 1: set_733f_mp;
 2: sw_733_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_733_3cars_1000, position_in_articulated_veh) {
 0: sw_733_1000_front_tc;
 1: set_733_1000_mp;
 2: sw_733f_1000_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_733f_3cars_1000, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_733f_1000_rear_tc;
 1: set_733f_1000_mp;
 2: sw_733_1000_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_733_6cars_3000, position_in_articulated_veh) {
 // <-Otaru Tomakomai->
 // Tc + Mp + Tu + Tn + Mp + Tc
 0: sw_733_front_tc_nh;
 1: set_733_3000_mp;
 2: set_733_3000_tu;
 3: set_733_tn;
 4: set_733_3000_mp;
 5: sw_733f_rear_tc_nh;
}

switch(FEAT_TRAINS, SELF, sw_733f_6cars_3000, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%6]) {
 0: sw_733f_rear_tc_nh;
 1: set_733f_3000_mp;
 2: set_733f_3000_tu;
 3: set_733f_tn;
 4: set_733f_3000_mp;
 5: sw_733_front_tc_nh;
}

switch(FEAT_TRAINS, SELF, sw_733_3cars_formations, cargo_subtype) {
 0: sw_733_3cars_initial;
 1: sw_733_3cars_1000;
}

switch(FEAT_TRAINS, SELF, sw_733f_3cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 0: sw_733f_3cars_initial;
 1: sw_733f_3cars_1000;
}

switch(FEAT_TRAINS, SELF, sw_733_6cars_formations, cargo_subtype) {
 0: sw_733_6cars_3000;
}

switch(FEAT_TRAINS, SELF, sw_733f_6cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 0: sw_733f_6cars_3000;
}



// 735series
switch(FEAT_TRAINS, SELF, sw_735_front_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_735_unlited_tc;
 default: set_735_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_735_rear_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_735_unlited_tc;
 default: set_735_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_735f_front_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_735f_unlited_tc;
 default: set_735f_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_735f_rear_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_735f_unlited_tc;
 default: set_735f_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_735_3cars_initial, position_in_articulated_veh) {
 0: sw_735_front_tc;
 1: set_735_mp;
 2: sw_735f_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_735f_3cars_initial, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_735f_rear_tc;
 1: set_735f_mp;
 2: sw_735_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_735_3cars_formations, cargo_subtype) {
 default: sw_735_3cars_initial;
}

switch(FEAT_TRAINS, SELF, sw_735f_3cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 default: sw_735f_3cars_initial;
}


// DC201series
switch(FEAT_TRAINS, SELF, sw_dc201_front_mc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc201_unlited_mc;
 default: set_dc201_front_mc;
}

switch(FEAT_TRAINS, SELF, sw_dc201_rear_mc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc201_unlited_mc;
 default: set_dc201_rear_mc;
}

switch(FEAT_TRAINS, SELF, sw_dc201f_front_mc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc201f_unlited_mc;
 default: set_dc201f_front_mc;
}

switch(FEAT_TRAINS, SELF, sw_dc201f_rear_mc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc201f_unlited_mc;
 default: set_dc201f_rear_mc;
}

switch(FEAT_TRAINS, SELF, sw_dc201_3cars_initial, position_in_articulated_veh) {
 0: sw_dc201_front_mc;
 1: set_dc201_mn;
 2: sw_dc201f_rear_mc;
}

switch(FEAT_TRAINS, SELF, sw_dc201f_3cars_initial, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 0: sw_dc201f_rear_mc;
 1: set_dc201f_mn;
 2: sw_dc201_front_mc;
}

switch(FEAT_TRAINS, SELF, sw_dc201_3cars_formations, cargo_subtype) {
 default: sw_dc201_3cars_initial;
}

switch(FEAT_TRAINS, SELF, sw_dc201f_3cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 default: sw_dc201f_3cars_initial;
}

// switch(FEAT_TRAINS, SELF, sw_721group_mucar_flformations, [
//   // 1: 連続何両目か見る
//   // 2: MUCarの制御車両を指定する
//   // 3: 制御車両が何両目か見る
//   // 4: 制御車両のIDを取得する
//   STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F),
//   STORE_TEMP(var[0x61, 0, 0x000000FF, 0x41]+1,1),
//   STORE_TEMP((position_in_consist_from_end-position_in_consist)-LOAD_TEMP(1), 0x10F),
//   var[0x61, 0, 0x0000FFFF, 0xC6]
// ]){
// 	emu721: sw_721f_formations;
// 	emu731: sw_731f_formations;
// 	emu733: sw_733f_formations;
// 	emu735: sw_735f_formations;
// 	dmu201: sw_dc201f_formations;
// 	default: CB_FAILED;
// }

switch(FEAT_TRAINS, SELF, sw_721group_flformation, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
 emu721_3cars: sw_721f_3cars_formations;
 emu721_6cars: sw_721f_6cars_formations;
 emu731_3cars: sw_731f_3cars_formations;
 emu733_3cars: sw_733f_3cars_formations;
 emu733_6cars: sw_733f_6cars_formations;
 emu735_3cars: sw_735f_3cars_formations;
 dmu201_3cars: sw_dc201f_3cars_formations;
 default: CB_FAILED;
}

switch(FEAT_TRAINS, PARENT, sw_721_3cars_gfx_main, vehicle_is_reversed) {
 1: sw_721group_flformation;
 default: sw_721_3cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_721_6cars_gfx_main, vehicle_is_reversed) {
 1: sw_721group_flformation;
 default: sw_721_6cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_731_3cars_gfx_main, vehicle_is_reversed) {
 1: sw_721group_flformation;
 default: sw_731_3cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_733_3cars_gfx_main, vehicle_is_reversed) {
 1: sw_721group_flformation;
 default: sw_733_3cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_733_6cars_gfx_main, vehicle_is_reversed) {
 1: sw_721group_flformation;
 default: sw_733_6cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_735_3cars_gfx_main, vehicle_is_reversed) {
 1: sw_721group_flformation;
 default: sw_735_3cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc201_3cars_gfx_main, vehicle_is_reversed) {
 1: sw_721group_flformation;
 default: sw_dc201_3cars_formations;
}

switch(FEAT_TRAINS, SELF, sw_721group_can_attach_wagon, vehicle_type_id) {
 emu721_3cars: CB_RESULT_ATTACH_ALLOW;
 emu731_3cars: CB_RESULT_ATTACH_ALLOW;
 emu733_3cars: CB_RESULT_ATTACH_ALLOW;
 emu735_3cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_721GROUP_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_721_6cars_can_attach_wagon, vehicle_type_id) {
    default: return string(STR_721_6CARS_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_733_6cars_can_attach_wagon, vehicle_type_id) {
    default: return string(STR_733_6CARS_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_731_3cars_can_attach_wagon, vehicle_type_id) {
 emu721_3cars: CB_RESULT_ATTACH_ALLOW;
 emu731_3cars: CB_RESULT_ATTACH_ALLOW;
 emu733_3cars: CB_RESULT_ATTACH_ALLOW;
 emu735_3cars: CB_RESULT_ATTACH_ALLOW;
 dmu201_3cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_731_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_dc201_3cars_can_attach_wagon, vehicle_type_id) {
 dmu201_3cars: CB_RESULT_ATTACH_ALLOW;
 emu731_3cars: CB_RESULT_ATTACH_ALLOW;
 default: return string(STR_DC201_CANNOT_ATTACH_OTHER);
}

# 1 "src/vehicles/721group/./emu721.pnml" 1
switch(FEAT_TRAINS, SELF, sw_721_3cars_subtypes, cargo_subtype) {
 0: string(STR_LV_721_INITIAL);
 1: string(STR_LV_721_3CAR_USEAT_INITIAL_CTL);
 2: string(STR_LV_721_3CAR_USEAT_RENEWAL_CTL);
 3: string(STR_LV_721_VVVF);
 4: string(STR_LV_721_VVVF_3CAR_USEAT_RENEWAL_CTL);
}

switch(FEAT_TRAINS, SELF, sw_721_6cars_subtypes, cargo_subtype) {
 0: string(STR_LV_721_VVVF_3CAR_USEAT_RENEWAL_CTL);
 1: string(STR_LV_721_6CAR_USEAT_RENEWAL_MID);
 2: string(STR_LV_721_6CAR_USEAT_INITIAL_MID);
}

switch(FEAT_TRAINS, SELF, sw_721_3cars_artpart, extra_callback_info1) {
    0..2: return emu721_3cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_721_6cars_artpart, extra_callback_info1) {
    0..5: return emu721_6cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, emu721_3cars) {
    property {
        name: string(STR_721_3CARS_NAME);
        introduction_date: date(1988, 11, 3);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_suburban;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 230 * 4 * 1 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_commuter;
        weight: 105 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
    }

    graphics {
  purchase : set_721_purchase;

        // Below items are depends on consist
        default : sw_721_3cars_gfx_main;
        can_attach_wagon : sw_721group_can_attach_wagon;
  additional_text : string(STR_721_3CARS_DESC);
        cargo_subtype_text: sw_721_3cars_subtypes;
  articulated_part : sw_721_3cars_artpart;
    }
}

item(FEAT_TRAINS, emu721_6cars) {
    property {
        name: string(STR_721_6CARS_NAME);
        introduction_date: date(1988, 11, 3);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_suburban;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 230 * 4 * 2 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_commuter;
        weight: 210 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
        variant_group: emu721_3cars;
    }

    graphics {
  purchase : set_721_purchase;

        // Below items are depends on consist
        default : sw_721_6cars_gfx_main;
        can_attach_wagon : sw_721_6cars_can_attach_wagon;
  additional_text : string(STR_721_6CARS_DESC);
        cargo_subtype_text: sw_721_6cars_subtypes;
  articulated_part : sw_721_6cars_artpart;
    }
}
# 827 "src/vehicles/721group/721group_main.pnml" 2
# 1 "src/vehicles/721group/./emu731.pnml" 1
// switch(FEAT_TRAINS, SELF, sw_731_subtypes, cargo_subtype) {
 // 0: string(STR_LV_731_INITIAL);
// }

switch(FEAT_TRAINS, SELF, sw_731_3cars_artpart, extra_callback_info1) {
    0..2: return emu731_3cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, emu731_3cars) {
    property {
        name: string(STR_731_NAME);
        introduction_date: date(1996, 12, 24);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_commuter;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 120 km/h;
        refit_cost: 0;
        power: 230 * 4 * 1 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_commuter;
        weight: 100 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
    }

    graphics {
  purchase : set_731_purchase;

        // Below items are depends on consist
        default : sw_731_3cars_gfx_main;
        can_attach_wagon : sw_731_3cars_can_attach_wagon;
  additional_text : string(STR_731_DESC);
        // cargo_subtype_text: sw_731_subtypes;
  articulated_part : sw_731_3cars_artpart;
    }
}
# 828 "src/vehicles/721group/721group_main.pnml" 2
# 1 "src/vehicles/721group/./emu733.pnml" 1
switch(FEAT_TRAINS, SELF, sw_733_3cars_subtypes, cargo_subtype) {
 0: string(STR_LV_733_INITIAL);
 1: string(STR_LV_733_1000);
}

switch(FEAT_TRAINS, SELF, sw_733_6cars_subtypes, cargo_subtype) {
 0: string(STR_LV_733_3000);
}

switch(FEAT_TRAINS, SELF, sw_733_3cars_artpart, extra_callback_info1) {
    0..2: return emu733_3cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_733_6cars_artpart, extra_callback_info1) {
    0..5: return emu733_6cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, emu733_3cars) {
    property {
        name: string(STR_733_3CARS_NAME);
        introduction_date: date(2012, 6, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_commuter;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 120 km/h;
        refit_cost: 0;
        power: 230 * 4 * 1 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_commuter;
        weight: 110 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
    }

    graphics {
  purchase : set_733_purchase;

        // Below items are depends on consist
        default : sw_733_3cars_gfx_main;
        can_attach_wagon : sw_721group_can_attach_wagon;
  additional_text : string(STR_733_3CARS_DESC);
        cargo_subtype_text: sw_733_3cars_subtypes;
  articulated_part : sw_733_3cars_artpart;
    }
}

item(FEAT_TRAINS, emu733_6cars) {
    property {
        name: string(STR_733_6CARS_NAME);
        introduction_date: date(2012, 6, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_commuter;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 120 km/h;
        refit_cost: 0;
        power: 230 * 4 * 2 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_commuter;
        weight: 220 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
        variant_group: emu733_3cars;
    }

    graphics {
  purchase : set_733_purchase;

        // Below items are depends on consist
        default : sw_733_6cars_gfx_main;
        can_attach_wagon : sw_733_6cars_can_attach_wagon;
  additional_text : string(STR_733_6CARS_DESC);
        cargo_subtype_text: sw_733_6cars_subtypes;
  articulated_part : sw_733_6cars_artpart;
    }
}
# 829 "src/vehicles/721group/721group_main.pnml" 2
# 1 "src/vehicles/721group/./emu735.pnml" 1
// switch(FEAT_TRAINS, SELF, sw_735_subtypes, cargo_subtype) {
 // 0: string(STR_LV_735_INITIAL);
// }

switch(FEAT_TRAINS, SELF, sw_735_3cars_artpart, extra_callback_info1) {
    0..2: return emu735_3cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, emu735_3cars) {
    property {
        name: string(STR_735_NAME);
        introduction_date: date(2012, 5, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_commuter;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 120 km/h;
        refit_cost: 0;
        power: 230 * 4 * 1 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_commuter;
        weight: 105 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
    }

    graphics {
  purchase : set_735_purchase;

        // Below items are depends on consist
        default : sw_735_3cars_gfx_main;
        can_attach_wagon : sw_721group_can_attach_wagon;
  additional_text : string(STR_735_DESC);
        // cargo_subtype_text: sw_735_subtypes;
  articulated_part : sw_735_3cars_artpart;
    }
}
# 830 "src/vehicles/721group/721group_main.pnml" 2
# 1 "src/vehicles/721group/./dmu201.pnml" 1
// switch(FEAT_TRAINS, SELF, sw_dc201_subtypes, cargo_subtype) {
 // 0: string(STR_LV_DC201_INITIAL);
// }

switch(FEAT_TRAINS, SELF, sw_dc201_3cars_artpart, extra_callback_info1) {
    0..2: return dmu201_3cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, dmu201_3cars) {
    property {
        name: string(STR_DC201_NAME);
        introduction_date: date(1997, 3, 22);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_commuter;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 120 km/h;
        refit_cost: 0;
        power: 450 * 2 * 3 * param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_commuter;
        weight: 120 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
    }

    graphics {
  purchase : set_dc201_purchase;

        // Below items are depends on consist
        default : sw_dc201_3cars_gfx_main;
        can_attach_wagon : sw_dc201_3cars_can_attach_wagon;
  additional_text : string(STR_DC201_DESC);
        // cargo_subtype_text: sw_dc201_subtypes;
  articulated_part : sw_dc201_3cars_artpart;
    }
}
# 831 "src/vehicles/721group/721group_main.pnml" 2
# 2 "src/vehicles.pnml" 2
# 1 "src/vehicles/emu785_series/emu785_0_main.pnml" 1
spriteset( set_785_purchase, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_single(1, 64, 14, -25, -10) }
alternative_sprites(set_785_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_single(1, 64, 14, -25, -10) }

spriteset(set_785_mu, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 5, 0) }
spriteset(set_785_mpu, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 6, 0) }
spriteset(set_785_tp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 7, 0) }
spriteset(set_785_mn, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 8, 0) }
spriteset(set_785_unlited_mc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 9, 0) }
spriteset(set_785_omitted_mc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(10, 0) }
spriteset(set_785_rear_mc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(11, 0) }
spriteset(set_785_front_mc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(12, 0) }
spriteset(set_785_unlited_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(13, 0) }
spriteset(set_785_omitted_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(14, 0) }
spriteset(set_785_rear_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(15, 0) }
spriteset(set_785_front_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(16, 0) }
spriteset(set_785_unlited_tc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(17, 0) }
spriteset(set_785_rear_tc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(18, 0) }
spriteset(set_785_front_tc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(19, 0) }

spriteset(set_785f_mu, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 5, 1) }
spriteset(set_785f_mpu, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 6, 1) }
spriteset(set_785f_tp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 7, 1) }
spriteset(set_785f_mn, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 8, 1) }
spriteset(set_785f_unlited_mc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 9, 1) }
spriteset(set_785f_omitted_mc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(10, 1) }
spriteset(set_785f_rear_mc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(11, 1) }
spriteset(set_785f_front_mc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(12, 1) }
spriteset(set_785f_unlited_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(13, 1) }
spriteset(set_785f_omitted_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(14, 1) }
spriteset(set_785f_rear_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(15, 1) }
spriteset(set_785f_front_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(16, 1) }
spriteset(set_785f_unlited_tc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(17, 1) }
spriteset(set_785f_rear_tc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(18, 1) }
spriteset(set_785f_front_tc, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views(19, 1) }

alternative_sprites(set_785_mu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 5, 0) }
alternative_sprites(set_785_mpu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 6, 0) }
alternative_sprites(set_785_tp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 7, 0) }
alternative_sprites(set_785_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 8, 0) }
alternative_sprites(set_785_unlited_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 9, 0) }
alternative_sprites(set_785_omitted_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(10, 0) }
alternative_sprites(set_785_rear_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(11, 0) }
alternative_sprites(set_785_front_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(12, 0) }
alternative_sprites(set_785_unlited_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(13, 0) }
alternative_sprites(set_785_omitted_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(14, 0) }
alternative_sprites(set_785_rear_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(15, 0) }
alternative_sprites(set_785_front_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(16, 0) }
alternative_sprites(set_785_unlited_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(17, 0) }
alternative_sprites(set_785_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(18, 0) }
alternative_sprites(set_785_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(19, 0) }

alternative_sprites(set_785f_mu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 5, 1) }
alternative_sprites(set_785f_mpu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 6, 1) }
alternative_sprites(set_785f_tp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 7, 1) }
alternative_sprites(set_785f_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 8, 1) }
alternative_sprites(set_785f_unlited_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 9, 1) }
alternative_sprites(set_785f_omitted_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(10, 1) }
alternative_sprites(set_785f_rear_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(11, 1) }
alternative_sprites(set_785f_front_mc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(12, 1) }
alternative_sprites(set_785f_unlited_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(13, 1) }
alternative_sprites(set_785f_omitted_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(14, 1) }
alternative_sprites(set_785f_rear_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(15, 1) }
alternative_sprites(set_785f_front_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(16, 1) }
alternative_sprites(set_785f_unlited_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(17, 1) }
alternative_sprites(set_785f_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(18, 1) }
alternative_sprites(set_785f_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views(19, 1) }

switch(FEAT_TRAINS, SELF, sw_785_5cars_can_attach_wagon, vehicle_type_id) {
    default: return string(STR_785_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_785_24cars_can_attach_wagon, vehicle_type_id) {
 emu785_2cars: CB_RESULT_ATTACH_ALLOW;
    emu785_4cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_785_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_785_front_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_785_unlited_tc;
 default: set_785_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_785f_rear_tc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_785f_unlited_tc;
 default: set_785f_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_785_front_mc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_785_unlited_mc;
 default: set_785_front_mc;
}

switch(FEAT_TRAINS, SELF, sw_785f_rear_mc, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_785f_unlited_mc;
 default: set_785f_rear_mc;
}

switch(FEAT_TRAINS, SELF, sw_785_front_tcp, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_785_unlited_tcp;
 default: set_785_front_tcp;
}

switch(FEAT_TRAINS, SELF, sw_785f_rear_tcp, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_785f_unlited_tcp;
 default: set_785f_rear_tcp;
}

switch(FEAT_TRAINS, SELF, sw_785_2cars_initial, position_in_articulated_veh) {
 0: sw_785_front_tcp;
 1: sw_785f_rear_mc;
}

switch(FEAT_TRAINS, SELF, sw_785_4cars_initial, position_in_articulated_veh) {
 0: sw_785_front_tc;
 1: set_785_mn;
 2: set_785_tp;
 3: sw_785f_rear_mc;
}

switch(FEAT_TRAINS, SELF, sw_785_useat, position_in_articulated_veh) {
 0: sw_785_front_mc;
 1: set_785_tp;
 2: set_785_mn;
 3: set_785_mpu;
 4: sw_785f_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_785_useat_midcab, position_in_articulated_veh) {
 0: sw_785_front_mc;
 1: set_785f_omitted_tcp;
 2: set_785_omitted_mc;
 3: set_785_mpu;
 4: sw_785f_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_785f_2cars_initial, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
 0: sw_785f_rear_tcp;
 1: sw_785_front_mc;
}

switch(FEAT_TRAINS, SELF, sw_785f_4cars_initial, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%4]) {
 0: sw_785f_rear_tc;
 1: set_785f_mn;
 2: set_785f_tp;
 3: sw_785_front_mc;
}

switch(FEAT_TRAINS, SELF, sw_785f_useat, position_in_articulated_veh) {
 4: sw_785f_rear_mc;
 3: set_785f_tp;
 2: set_785f_mn;
 1: set_785f_mpu;
 0: sw_785_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_785f_useat_midcab, position_in_articulated_veh) {
 4: sw_785f_rear_mc;
 3: set_785_omitted_tcp;
 2: set_785f_omitted_mc;
 1: set_785f_mpu;
 0: sw_785_front_tc;
}

// check: cargo_subtype
switch(FEAT_TRAINS, SELF, sw_785f_2cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_785f_2cars_initial;
}

// check: cargo_subtype
switch(FEAT_TRAINS, SELF, sw_785f_4cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_785f_4cars_initial;
}

// check: vehicle_id
switch(FEAT_TRAINS, SELF, sw_785f_24cars_revesed_type, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    emu785_2cars: sw_785f_2cars_formations;
    emu785_4cars: sw_785f_4cars_formations;
}

switch(FEAT_TRAINS, SELF, sw_785_2cars_formations, cargo_subtype) {
 0: sw_785_2cars_initial;
}

switch(FEAT_TRAINS, SELF, sw_785_4cars_formations, cargo_subtype) {
 0: sw_785_4cars_initial;
}

switch(FEAT_TRAINS, SELF, sw_785f_5cars_formations, cargo_subtype) {
 0: sw_785f_useat;
 1: sw_785f_useat_midcab;
}

switch(FEAT_TRAINS, SELF, sw_785_5cars_formations, cargo_subtype) {
 0: sw_785_useat;
 1: sw_785_useat_midcab;
}

switch(FEAT_TRAINS, PARENT, sw_785_5cars_gfx_main, vehicle_is_reversed) {
 1: sw_785f_5cars_formations;
 default: sw_785_5cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_785_2cars_gfx_main, vehicle_is_reversed) {
 1: sw_785f_24cars_revesed_type;
 default: sw_785_2cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_785_4cars_gfx_main, vehicle_is_reversed) {
 1: sw_785f_24cars_revesed_type;
 default: sw_785_4cars_formations;
}

switch(FEAT_TRAINS, SELF, sw_785_5cars_subtypes, cargo_subtype) {
 0: string(STR_LV_785_USEAT);
 1: string(STR_LV_785_USEAT_MIDCAB);
}

switch(FEAT_TRAINS, SELF, sw_785_4cars_subtypes, cargo_subtype) {
 0: string(STR_LV_785_INITIAL);
}

switch(FEAT_TRAINS, SELF, sw_785_2cars_subtypes, cargo_subtype) {
 0: string(STR_LV_785_INITIAL);
}


switch (FEAT_TRAINS, SELF, sw_785_2cars_articulated_part, extra_callback_info1) {
 0..1: return emu785_2cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch (FEAT_TRAINS, SELF, sw_785_4cars_articulated_part, extra_callback_info1) {
 0..3: return emu785_4cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch (FEAT_TRAINS, SELF, sw_785_5cars_articulated_part, extra_callback_info1) {
 0..4: return emu785_5cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


item(FEAT_TRAINS, emu785_5cars) {
    property {
        name: string(STR_785_5CARS_NAME);
        introduction_date: date(1990, 9, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 190 * 4 * 3 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 5 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        variant_group: emu785_5cars;
    }

    graphics {
  purchase : set_785_purchase;

        // Below items are depends on consist
        default : sw_785_5cars_gfx_main;
        can_attach_wagon : sw_785_5cars_can_attach_wagon;
  additional_text : string(STR_785_5CARS_DESC);
        cargo_subtype_text: sw_785_5cars_subtypes;
  articulated_part : sw_785_5cars_articulated_part;
    }
}

item(FEAT_TRAINS, emu785_4cars) {
    property {
        name: string(STR_785_4CARS_NAME);
        introduction_date: date(1990, 9, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 190 * 4 * 3 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 4 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        variant_group: emu785_5cars;
    }

    graphics {
  purchase : set_785_purchase;

        // Below items are depends on consist
        default : sw_785_4cars_gfx_main;
        can_attach_wagon : sw_785_24cars_can_attach_wagon;
  additional_text : string(STR_785_4CARS_DESC);
        cargo_subtype_text: sw_785_4cars_subtypes;
  articulated_part : sw_785_4cars_articulated_part;
    }
}

item(FEAT_TRAINS, emu785_2cars) {
    property {
        name: string(STR_785_2CARS_NAME);
        introduction_date: date(1990, 9, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 190 * 4 * 1 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 2 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        variant_group: emu785_5cars;
    }

    graphics {
  purchase : set_785_purchase;

        // Below items are depends on consist
        default : sw_785_2cars_gfx_main;
        can_attach_wagon : sw_785_24cars_can_attach_wagon;
  additional_text : string(STR_785_2CARS_DESC);
        cargo_subtype_text: sw_785_2cars_subtypes;
  articulated_part : sw_785_2cars_articulated_part;
    }
}
# 3 "src/vehicles.pnml" 2
# 1 "src/vehicles/emu789_series/emu789_0group_main.pnml" 1
spriteset(set_789_0_purchase, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

//788-200と788-300の向きが逆
spriteset(set_789_0_front_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 7, 0) }
spriteset(set_789_0_rear_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 8, 0) }
spriteset(set_789_0_unlighted_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 9, 0) }
spriteset(set_789_0_788_200_mp, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(10, 0) }
spriteset(set_789_0_789_0_mn, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(11, 0) }
spriteset(set_789_0_789_0_tn, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(12, 0) }
spriteset(set_789_0_788_100_mp, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(13, 0) }
spriteset(set_789_0_788_300_mp, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(14, 0) }
spriteset(set_789_0_front_tcg, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(15, 0) }
spriteset(set_789_0_rear_tcg, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(16, 0) }

spriteset(set_789f_0_front_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 7, 1) }
spriteset(set_789f_0_rear_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 8, 1) }
spriteset(set_789f_0_unlighted_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 9, 1) }
spriteset(set_789f_0_788_200_mp, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(10, 1) }
spriteset(set_789f_0_789_0_mn, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(11, 1) }
spriteset(set_789f_0_789_0_tn, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(12, 1) }
spriteset(set_789f_0_788_100_mp, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(13, 1) }
spriteset(set_789f_0_788_300_mp, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(14, 1) }
spriteset(set_789f_0_front_tcg, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(15, 1) }
spriteset(set_789f_0_rear_tcg, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views(16, 1) }

alternative_sprites(set_789_0_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 7, 0) }
alternative_sprites(set_789_0_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 8, 0) }
alternative_sprites(set_789_0_unlighted_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 9, 0) }
alternative_sprites(set_789_0_788_200_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(10, 0) }
alternative_sprites(set_789_0_789_0_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(11, 0) }
alternative_sprites(set_789_0_789_0_tn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(12, 0) }
alternative_sprites(set_789_0_788_100_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(13, 0) }
alternative_sprites(set_789_0_788_300_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(14, 0) }
alternative_sprites(set_789_0_front_tcg, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(15, 0) }
alternative_sprites(set_789_0_rear_tcg, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(16, 0) }

alternative_sprites(set_789f_0_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 7, 1) }
alternative_sprites(set_789f_0_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 8, 1) }
alternative_sprites(set_789f_0_unlighted_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 9, 1) }
alternative_sprites(set_789f_0_788_200_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(10, 1) }
alternative_sprites(set_789f_0_789_0_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(11, 1) }
alternative_sprites(set_789f_0_789_0_tn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(12, 1) }
alternative_sprites(set_789f_0_788_100_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(13, 1) }
alternative_sprites(set_789f_0_788_300_mp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(14, 1) }
alternative_sprites(set_789f_0_front_tcg, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(15, 1) }
alternative_sprites(set_789f_0_rear_tcg, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views(16, 1) }



spriteset(set_785_300_purchase, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_785_300_mn, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_785_300_rear_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_785_300_front_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }

spriteset(set_785f_300_mn, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_785f_300_rear_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_785f_300_front_tcp, "gfx/8bpp/785-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }

alternative_sprites(set_785_300_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_785_300_rear_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_785_300_front_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }

alternative_sprites(set_785f_300_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_785f_300_rear_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_785f_300_front_tcp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/785-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }


switch(FEAT_TRAINS, SELF, sw_789_0_2cars_can_attach_wagon, vehicle_type_id) {
 emu789_0_2cars: CB_RESULT_ATTACH_ALLOW;
 emu789_0_3cars: CB_RESULT_ATTACH_ALLOW;
 emu785_300_2cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_789_0_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_789_0_3cars_can_attach_wagon, vehicle_type_id) {
 emu789_0_2cars: CB_RESULT_ATTACH_ALLOW;
 emu789_0_3cars: CB_RESULT_ATTACH_ALLOW;
 emu785_300_2cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_789_0_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_789_0_6cars_can_attach_wagon, vehicle_type_id) {
 emu785_300_2cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_789_0_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_785_300_2cars_can_attach_wagon, vehicle_type_id) {
 emu789_0_2cars: CB_RESULT_ATTACH_ALLOW;
 emu789_0_3cars: CB_RESULT_ATTACH_ALLOW;
 emu785_300_2cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_789_0_CANNOT_ATTACH_OTHER);
}

// ライトを消灯させるギミックを追加すること

switch(FEAT_TRAINS, SELF, sw_789_0_6cars, position_in_articulated_veh) {
    // <- Hakodate/Asahikawa | Aomori/Sapporo ->
    // Tcg + Mp788-100 + Tn + Mn + Mp788-200 + Tc

 0: set_789_0_front_tcg;
 1: set_789_0_788_100_mp;
 2: set_789_0_789_0_tn;
 3: set_789_0_789_0_mn;
 4: set_789_0_788_200_mp;
 5: set_789f_0_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_789f_0_6cars, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%6]) {
    // <- Hakodate/Asahikawa | Aomori/Sapporo ->
    // Tcg + Mp788-100 + Tn + Mn + Mp788-200 + Tc

 0: set_789f_0_rear_tcg;
 1: set_789f_0_788_100_mp;
 2: set_789f_0_789_0_tn;
 3: set_789f_0_789_0_mn;
 4: set_789f_0_788_200_mp;
 5: set_789_0_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_789_0_he100_3cars, position_in_articulated_veh) {
 // <- Hakodate | Aomori ->
 // Tcg + Mp788-100 + Tn 

 0: set_789_0_front_tcg;
 1: set_789_0_788_100_mp;
 2: set_789_0_789_0_tn;
}

switch(FEAT_TRAINS, SELF, sw_789_0_he100_2cars, position_in_articulated_veh) {
 // <- Hakodate | Aomori ->
 // Tcg + Mp788-100

 0: set_789_0_front_tcg;
 1: set_789_0_788_100_mp;
}

switch(FEAT_TRAINS, SELF, sw_789_0_he200_3cars, position_in_articulated_veh) {
 // <- Hakodate | Aomori ->
 // Mn + Mp788-200 + Tc

 0: set_789_0_789_0_mn;
 1: set_789_0_788_200_mp;
 2: set_789f_0_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_789_0_he300_2cars, position_in_articulated_veh) {
 // <- Hakodate | Aomori ->
 // Mp788-300 + Tc

 0: set_789_0_788_300_mp;
 1: set_789f_0_rear_tc;
}

switch(FEAT_TRAINS, SELF, sw_789f_0_he100_3cars, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 // <- Hakodate | Aomori ->
 // Tcg + Mp788-100 + Tn 

 0: set_789f_0_rear_tcg;
 1: set_789f_0_788_100_mp;
 2: set_789f_0_789_0_tn;
}

switch(FEAT_TRAINS, SELF, sw_789f_0_he100_2cars, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
 // <- Hakodate | Aomori ->
 // Tcg + Mp788-100

 0: set_789f_0_rear_tcg;
 1: set_789f_0_788_100_mp;
}

switch(FEAT_TRAINS, SELF, sw_789f_0_he200_3cars, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%3]) {
 // <- Hakodate | Aomori ->
 // Mn + Mp788-200 + Tc

 0: set_789f_0_789_0_mn;
 1: set_789f_0_788_200_mp;
 2: set_789_0_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_789f_0_he300_2cars, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
 // <- Hakodate | Aomori ->
 // Mp788-300 + Tc

 0: set_789f_0_788_300_mp;
 1: set_789_0_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_785f_300_2cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Hakodate | Aomori ->
 // Mn + Tcp

 0: set_785f_300_mn;
 1: set_785_300_front_tcp;
}

switch(FEAT_TRAINS, SELF, sw_785_300_2cars_formations, position_in_articulated_veh) {
    // <- Hakodate | Aomori ->
 // Mn + Tcp

 0: set_785_300_mn;
 1: set_785f_300_rear_tcp;
}

switch(FEAT_TRAINS, SELF, sw_789_0_2cars_formations, cargo_subtype) {
 0: sw_789_0_he100_2cars;
 1: sw_789_0_he300_2cars;
}

switch(FEAT_TRAINS, SELF, sw_789_0_3cars_formations, cargo_subtype) {
 0: sw_789_0_he200_3cars;
 1: sw_789_0_he100_3cars;
}

switch(FEAT_TRAINS, SELF, sw_789_0_6cars_formations, cargo_subtype) {
 0: sw_789_0_6cars;
}

switch(FEAT_TRAINS, SELF, sw_789f_0_2cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 0: sw_789f_0_he100_2cars;
 1: sw_789f_0_he300_2cars;
}

switch(FEAT_TRAINS, SELF, sw_789f_0_3cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 0: sw_789f_0_he200_3cars;
 1: sw_789f_0_he100_3cars;
}

switch(FEAT_TRAINS, SELF, sw_789f_0_6cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 0: sw_789f_0_6cars;
}

switch(FEAT_TRAINS, SELF, sw_789_0series_rvformation, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    emu789_0_2cars: sw_789f_0_2cars_formations;
    emu789_0_3cars: sw_789f_0_3cars_formations;
    emu789_0_6cars: sw_789f_0_6cars_formations;
    emu785_300_2cars: sw_785f_300_2cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_789_0_2cars_gfx_main, vehicle_is_reversed) {
    1: sw_789_0series_rvformation;
    0: sw_789_0_2cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_789_0_3cars_gfx_main, vehicle_is_reversed) {
    1: sw_789_0series_rvformation;
    0: sw_789_0_3cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_789_0_6cars_gfx_main, vehicle_is_reversed) {
    1: sw_789_0series_rvformation;
    0: sw_789_0_6cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_785_300_2cars_gfx_main, vehicle_is_reversed) {
 1: sw_789_0series_rvformation;
 0: sw_785_300_2cars_formations;
}

# 1 "src/vehicles/emu789_series/./emu789_0.pnml" 1
switch(FEAT_TRAINS, SELF, sw_789_0_2cars_subtypes, cargo_subtype) {
 0: string(STR_LV_789_0_2CARS_HE100);
 1: string(STR_LV_789_0_2CARS_HE300);
}

switch(FEAT_TRAINS, SELF, sw_789_0_3cars_subtypes, cargo_subtype) {
 0: string(STR_LV_789_0_3CARS_HE200);
 1: string(STR_LV_789_0_3CARS_HE100);
}

switch(FEAT_TRAINS, SELF, sw_789_0_6cars_subtypes, cargo_subtype) {
    0: string(STR_LV_789_0_6CARS);
 // 0: string(STR_LV_789_0_6CARS_LILAC);
 // 1: string(STR_LV_789_0_6CARS_HAKUCHO);
}


switch(FEAT_TRAINS, SELF, sw_789_0_2cars_artpart, extra_callback_info1) {
 0..1: emu789_0_2cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_789_0_3cars_artpart, extra_callback_info1) {
 0..2: emu789_0_3cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_789_0_6cars_artpart, extra_callback_info1) {
 0..5: emu789_0_6cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


item(FEAT_TRAINS, emu789_0_6cars) {
    property {
        name: string(STR_789_0_6CARS_NAME);
        introduction_date: date(2002, 12, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 140 km/h;
        refit_cost: 0;
        power: 230 * 4 * 3 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 6 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
    }
    graphics {
  purchase : set_789_0_purchase;

        // Below items are depends on consist
        default : sw_789_0_6cars_gfx_main;
        can_attach_wagon : sw_789_0_6cars_can_attach_wagon;
  additional_text : string(STR_789_0_6CARS_DESC);
        // cargo_subtype_text: sw_789_0_6cars_subtypes;
  articulated_part : sw_789_0_6cars_artpart;
    }
}

item(FEAT_TRAINS, emu789_0_2cars) {
    property {
        name: string(STR_789_0_2CARS_NAME);
        introduction_date: date(2002, 12, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 140 km/h;
        refit_cost: 0;
        power: 230 * 4 * 1 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 2 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
  variant_group: emu789_0_6cars;
    }
    graphics {
  purchase : set_789_0_purchase;

        // Below items are depends on consist
        default : sw_789_0_2cars_gfx_main;
        can_attach_wagon : sw_789_0_2cars_can_attach_wagon;
  additional_text : string(STR_789_0_2CARS_DESC);
        cargo_subtype_text: sw_789_0_2cars_subtypes;
  articulated_part : sw_789_0_2cars_artpart;
    }
}

item(FEAT_TRAINS, emu789_0_3cars) {
    property {
        name: string(STR_789_0_3CARS_NAME);
        introduction_date: date(2002, 12, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 140 km/h;
        refit_cost: 0;
        power: 230 * 4 * 1.5 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 3 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
  variant_group: emu789_0_6cars;
    }
    graphics {
  purchase : set_789_0_purchase;

        // Below items are depends on consist
        default : sw_789_0_3cars_gfx_main;
        can_attach_wagon : sw_789_0_3cars_can_attach_wagon;
  additional_text : string(STR_789_0_3CARS_DESC);
        cargo_subtype_text: sw_789_0_3cars_subtypes;
  articulated_part : sw_789_0_3cars_artpart;
    }
}
# 261 "src/vehicles/emu789_series/emu789_0group_main.pnml" 2
# 1 "src/vehicles/emu789_series/./emu785_300.pnml" 1
switch(FEAT_TRAINS, SELF, sw_785_300_2cars_artpart, extra_callback_info1) {
 0..1: emu785_300_2cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, emu785_300_2cars) {
    property {
        name: string(STR_785_300_2CARS_NAME);
        introduction_date: date(2010,12, 4);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 140 km/h;
        refit_cost: 0;
        power: 190 * 4 * 1 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 2 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        variant_group: emu789_0_6cars;
    }

    graphics {
  purchase : set_785_300_purchase;

        // Below items are depends on consist
        default : sw_785_300_2cars_gfx_main;
        can_attach_wagon : sw_785_300_2cars_can_attach_wagon;
  additional_text : string(STR_785_300_2CARS_DESC);
        // cargo_subtype_text: sw_785_300_2cars_subtypes;
  articulated_part : sw_785_300_2cars_artpart;
    }
}
# 262 "src/vehicles/emu789_series/emu789_0group_main.pnml" 2
# 4 "src/vehicles.pnml" 2
# 1 "src/vehicles/emu789_series/emu789_1000_main.pnml" 1
spriteset(set_789_1000_purchase, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_single(1, 64, 14, -25, -10) }

spriteset(set_789_1000_rear_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_789_1000_front_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_789_1000_mn, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }
spriteset(set_789_1000_tp, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 5, 0) }
spriteset(set_789_1000_mu, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 6, 0) }

spriteset(set_789f_1000_rear_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_789f_1000_front_tc, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_789f_1000_mn, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }
spriteset(set_789f_1000_tp, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 5, 1) }
spriteset(set_789f_1000_mu, "gfx/8bpp/789-8bpp.png") { tmpl_vehicle_8_views( 6, 1) }

alternative_sprites(set_789_1000_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_789_1000_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_789_1000_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }
alternative_sprites(set_789_1000_tp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 5, 0) }
alternative_sprites(set_789_1000_mu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 6, 0) }

alternative_sprites(set_789f_1000_rear_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_789f_1000_front_tc, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_789f_1000_mn, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }
alternative_sprites(set_789f_1000_tp, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 5, 1) }
alternative_sprites(set_789f_1000_mu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/789-32bpp.png") { tmpl_vehicle_8_views( 6, 1) }

switch(FEAT_TRAINS, SELF, sw_789_1000_can_attach_wagon, vehicle_type_id) {
    default: return string(STR_789_1000_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_789f_1000_formations, position_in_consist) {
 4: set_789f_1000_rear_tc;
 3: set_789f_1000_mn;
 2: set_789f_1000_tp;
 1: set_789f_1000_mu;
 0: set_789_1000_front_tc;
}

switch(FEAT_TRAINS, SELF, sw_789_1000_formations, position_in_consist) {
 // Tc + Mn + Tp + Mu + Tc
 0: set_789_1000_front_tc;
 1: set_789_1000_mn;
 2: set_789_1000_tp;
 3: set_789_1000_mu;
 4: set_789f_1000_rear_tc;
}

switch(FEAT_TRAINS, PARENT, sw_789_1000_rvcheck, vehicle_is_reversed) {
 1: sw_789f_1000_formations;
 default: sw_789_1000_formations;
}

switch(FEAT_TRAINS, PARENT, sw_789_1000_artpart_5cars, extra_callback_info1) {
    0..4: emu789_1000_5cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, emu789_1000_5cars) {
    property {
        name: string(STR_789_1000_NAME);
        introduction_date: date(2007, 10, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 230 * 4 * 2 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 5 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
    }

    graphics {
        default : sw_789_1000_rvcheck;
  purchase : set_789_1000_purchase;
  additional_text : string(STR_789_1000_DESC);
        can_attach_wagon : sw_789_1000_can_attach_wagon;
  articulated_part : sw_789_1000_artpart_5cars;
    }
}
# 5 "src/vehicles.pnml" 2
# 1 "src/vehicles/dmu261_series/dmu261_1000_main.pnml" 1
spriteset( set_dc261_1000_purchase, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_dc261_1000_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_dc261_1000_init_KiHa260_1300, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_dc261_1000_init_KiHa260_1200, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_dc261_1000_init_KiHa260_1100, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_dc261_1000_init_KiRo261_1100_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_dc261_1000_init_KiRo261_1100_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }
spriteset(set_dc261_1000_init_KiHa261_1200_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 5, 0) }
spriteset(set_dc261_1000_init_KiHa261_1200_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 6, 0) }
spriteset(set_dc261_1000_renew_KiHa260_1300, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 7, 0) }
spriteset(set_dc261_1000_renew_KiHa260_1200, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 7, 0) }
spriteset(set_dc261_1000_renew_KiHa260_1100, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 8, 0) }
spriteset(set_dc261_1000_renew_KiHa260_1400, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 8, 0) }
spriteset(set_dc261_1000_renew_KiHa261_1200_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 9, 0) }
spriteset(set_dc261_1000_renew_KiHa261_1200_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(10, 0) }
spriteset(set_dc261_1000_renew_KiRo261_1100_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(11, 0) }
spriteset(set_dc261_1000_renew_KiRo261_1100_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(12, 0) }
spriteset(set_dc261_1000_lavender_KiHa261_5200_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(13, 0) }
spriteset(set_dc261_1000_lavender_KiHa261_5200_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(14, 0) }
spriteset(set_dc261_1000_lavender_KiHa261_5100_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(15, 0) }
spriteset(set_dc261_1000_lavender_KiHa261_5100_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(16, 0) }
spriteset(set_dc261_1000_lavender_KiHa260_5300, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(17, 0) }
spriteset(set_dc261_1000_lavender_KiHa260_5200, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(17, 0) }
spriteset(set_dc261_1000_lavender_KiHa260_5100, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(18, 0) }
spriteset(set_dc261_1000_hamanasu_KiHa261_5200_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(19, 0) }
spriteset(set_dc261_1000_hamanasu_KiHa261_5200_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(20, 0) }
spriteset(set_dc261_1000_hamanasu_KiHa261_5100_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(21, 0) }
spriteset(set_dc261_1000_hamanasu_KiHa261_5100_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(22, 0) }
spriteset(set_dc261_1000_hamanasu_KiHa260_5300, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(23, 0) }
spriteset(set_dc261_1000_hamanasu_KiHa260_5200, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(23, 0) }
spriteset(set_dc261_1000_hamanasu_KiHa260_5100, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(24, 0) }

spriteset(set_dc261f_1000_init_KiHa260_1300, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_dc261f_1000_init_KiHa260_1200, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_dc261f_1000_init_KiHa260_1100, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_dc261f_1000_init_KiRo261_1100_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_dc261f_1000_init_KiRo261_1100_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }
spriteset(set_dc261f_1000_init_KiHa261_1200_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 5, 1) }
spriteset(set_dc261f_1000_init_KiHa261_1200_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 6, 1) }
spriteset(set_dc261f_1000_renew_KiHa260_1300, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 7, 1) }
spriteset(set_dc261f_1000_renew_KiHa260_1200, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 7, 1) }
spriteset(set_dc261f_1000_renew_KiHa260_1100, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 8, 1) }
spriteset(set_dc261f_1000_renew_KiHa260_1400, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 8, 1) }
spriteset(set_dc261f_1000_renew_KiHa261_1200_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views( 9, 1) }
spriteset(set_dc261f_1000_renew_KiHa261_1200_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(10, 1) }
spriteset(set_dc261f_1000_renew_KiRo261_1100_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(11, 1) }
spriteset(set_dc261f_1000_renew_KiRo261_1100_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(12, 1) }
spriteset(set_dc261f_1000_lavender_KiHa261_5200_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(13, 1) }
spriteset(set_dc261f_1000_lavender_KiHa261_5200_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(14, 1) }
spriteset(set_dc261f_1000_lavender_KiHa261_5100_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(15, 1) }
spriteset(set_dc261f_1000_lavender_KiHa261_5100_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(16, 1) }
spriteset(set_dc261f_1000_lavender_KiHa260_5300, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(17, 1) }
spriteset(set_dc261f_1000_lavender_KiHa260_5200, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(17, 1) }
spriteset(set_dc261f_1000_lavender_KiHa260_5100, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(18, 1) }
spriteset(set_dc261f_1000_hamanasu_KiHa261_5200_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(19, 1) }
spriteset(set_dc261f_1000_hamanasu_KiHa261_5200_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(20, 1) }
spriteset(set_dc261f_1000_hamanasu_KiHa261_5100_front, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(21, 1) }
spriteset(set_dc261f_1000_hamanasu_KiHa261_5100_rear, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(22, 1) }
spriteset(set_dc261f_1000_hamanasu_KiHa260_5300, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(23, 1) }
spriteset(set_dc261f_1000_hamanasu_KiHa260_5200, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(23, 1) }
spriteset(set_dc261f_1000_hamanasu_KiHa260_5100, "gfx/8bpp/dc261_1000-8bpp.png") { tmpl_vehicle_8_views(24, 1) }

alternative_sprites(set_dc261_1000_init_KiHa260_1300, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_dc261_1000_init_KiHa260_1200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_dc261_1000_init_KiHa260_1100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_dc261_1000_init_KiRo261_1100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_dc261_1000_init_KiRo261_1100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }
alternative_sprites(set_dc261_1000_init_KiHa261_1200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 5, 0) }
alternative_sprites(set_dc261_1000_init_KiHa261_1200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 6, 0) }
alternative_sprites(set_dc261_1000_renew_KiHa260_1300, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 7, 0) }
alternative_sprites(set_dc261_1000_renew_KiHa260_1200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 7, 0) }
alternative_sprites(set_dc261_1000_renew_KiHa260_1100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 8, 0) }
alternative_sprites(set_dc261_1000_renew_KiHa260_1400, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 8, 0) }
alternative_sprites(set_dc261_1000_renew_KiHa261_1200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 9, 0) }
alternative_sprites(set_dc261_1000_renew_KiHa261_1200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(10, 0) }
alternative_sprites(set_dc261_1000_renew_KiRo261_1100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(11, 0) }
alternative_sprites(set_dc261_1000_renew_KiRo261_1100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(12, 0) }
alternative_sprites(set_dc261_1000_lavender_KiHa261_5200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(13, 0) }
alternative_sprites(set_dc261_1000_lavender_KiHa261_5200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(14, 0) }
alternative_sprites(set_dc261_1000_lavender_KiHa261_5100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(15, 0) }
alternative_sprites(set_dc261_1000_lavender_KiHa261_5100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(16, 0) }
alternative_sprites(set_dc261_1000_lavender_KiHa260_5300, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(17, 0) }
alternative_sprites(set_dc261_1000_lavender_KiHa260_5200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(17, 0) }
alternative_sprites(set_dc261_1000_lavender_KiHa260_5100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(18, 0) }
alternative_sprites(set_dc261_1000_hamanasu_KiHa261_5200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(19, 0) }
alternative_sprites(set_dc261_1000_hamanasu_KiHa261_5200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(20, 0) }
alternative_sprites(set_dc261_1000_hamanasu_KiHa261_5100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(21, 0) }
alternative_sprites(set_dc261_1000_hamanasu_KiHa261_5100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(22, 0) }
alternative_sprites(set_dc261_1000_hamanasu_KiHa260_5300, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(23, 0) }
alternative_sprites(set_dc261_1000_hamanasu_KiHa260_5200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(23, 0) }
alternative_sprites(set_dc261_1000_hamanasu_KiHa260_5100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(24, 0) }

alternative_sprites(set_dc261f_1000_init_KiHa260_1300, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_dc261f_1000_init_KiHa260_1200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_dc261f_1000_init_KiHa260_1100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_dc261f_1000_init_KiRo261_1100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_dc261f_1000_init_KiRo261_1100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }
alternative_sprites(set_dc261f_1000_init_KiHa261_1200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 5, 1) }
alternative_sprites(set_dc261f_1000_init_KiHa261_1200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 6, 1) }
alternative_sprites(set_dc261f_1000_renew_KiHa260_1300, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 7, 1) }
alternative_sprites(set_dc261f_1000_renew_KiHa260_1200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 7, 1) }
alternative_sprites(set_dc261f_1000_renew_KiHa260_1100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 8, 1) }
alternative_sprites(set_dc261f_1000_renew_KiHa260_1400, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 8, 1) }
alternative_sprites(set_dc261f_1000_renew_KiHa261_1200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views( 9, 1) }
alternative_sprites(set_dc261f_1000_renew_KiHa261_1200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(10, 1) }
alternative_sprites(set_dc261f_1000_renew_KiRo261_1100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(11, 1) }
alternative_sprites(set_dc261f_1000_renew_KiRo261_1100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(12, 1) }
alternative_sprites(set_dc261f_1000_lavender_KiHa261_5200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(13, 1) }
alternative_sprites(set_dc261f_1000_lavender_KiHa261_5200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(14, 1) }
alternative_sprites(set_dc261f_1000_lavender_KiHa261_5100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(15, 1) }
alternative_sprites(set_dc261f_1000_lavender_KiHa261_5100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(16, 1) }
alternative_sprites(set_dc261f_1000_lavender_KiHa260_5300, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(17, 1) }
alternative_sprites(set_dc261f_1000_lavender_KiHa260_5200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(17, 1) }
alternative_sprites(set_dc261f_1000_lavender_KiHa260_5100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(18, 1) }
alternative_sprites(set_dc261f_1000_hamanasu_KiHa261_5200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(19, 1) }
alternative_sprites(set_dc261f_1000_hamanasu_KiHa261_5200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(20, 1) }
alternative_sprites(set_dc261f_1000_hamanasu_KiHa261_5100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(21, 1) }
alternative_sprites(set_dc261f_1000_hamanasu_KiHa261_5100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(22, 1) }
alternative_sprites(set_dc261f_1000_hamanasu_KiHa260_5300, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(23, 1) }
alternative_sprites(set_dc261f_1000_hamanasu_KiHa260_5200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(23, 1) }
alternative_sprites(set_dc261f_1000_hamanasu_KiHa260_5100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_1000-32bpp.png") { tmpl_vehicle_8_views(24, 1) }


switch(FEAT_TRAINS, SELF, sw_dc261_1000_7cars_can_attach_wagon, vehicle_type_id) {
    default: return string(STR_DC261_1000_7CARS_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_5cars_can_attach_wagon, vehicle_type_id) {
    default: return string(STR_DC261_1000_5CARS_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_can_attach_wagon, vehicle_type_id) {
    dmu261_1000_2cars: CB_RESULT_ATTACH_ALLOW;
    dmu261_1000_1car: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_DC261_1000_2CARS_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_1car_can_attach_wagon, vehicle_type_id) {
    dmu261_1000_2cars: CB_RESULT_ATTACH_ALLOW;
    dmu261_1000_1car: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_DC261_1000_1CAR_CANNOT_ATTACH_OTHER);
}


switch(FEAT_TRAINS, SELF, sw_dc261_1000_init_KiRo261_1100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_init_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_init_KiRo261_1100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_init_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_init_KiHa261_1200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_init_KiHa261_1200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_init_KiHa261_1200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_init_KiHa261_1200_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_init_KiRo261_1100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_init_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_init_KiRo261_1100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_init_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_init_KiHa261_1200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_init_KiHa261_1200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_init_KiHa261_1200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_init_KiHa261_1200_rear;
}


switch(FEAT_TRAINS, SELF, sw_dc261_1000_renew_KiRo261_1100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_renew_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_renew_KiRo261_1100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_renew_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_renew_KiHa261_1200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_renew_KiHa261_1200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_renew_KiHa261_1200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_renew_KiHa261_1200_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_renew_KiRo261_1100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_renew_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_renew_KiRo261_1100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_renew_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_renew_KiHa261_1200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_renew_KiHa261_1200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_renew_KiHa261_1200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_renew_KiHa261_1200_rear;
}


switch(FEAT_TRAINS, SELF, sw_dc261_1000_hamanasu_KiHa261_5100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_hamanasu_KiHa261_5100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_hamanasu_KiHa261_5100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_hamanasu_KiHa261_5100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_hamanasu_KiHa261_5200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_hamanasu_KiHa261_5200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_hamanasu_KiHa261_5200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_hamanasu_KiHa261_5200_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_hamanasu_KiHa261_5100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_hamanasu_KiHa261_5100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_hamanasu_KiHa261_5100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_hamanasu_KiHa261_5100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_hamanasu_KiHa261_5200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_hamanasu_KiHa261_5200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_hamanasu_KiHa261_5200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_hamanasu_KiHa261_5200_rear;
}


switch(FEAT_TRAINS, SELF, sw_dc261_1000_lavender_KiHa261_5100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_lavender_KiHa261_5100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_lavender_KiHa261_5100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_lavender_KiHa261_5100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_lavender_KiHa261_5200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_lavender_KiHa261_5200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_lavender_KiHa261_5200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261_1000_lavender_KiHa261_5200_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_lavender_KiHa261_5100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_lavender_KiHa261_5100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_lavender_KiHa261_5100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_lavender_KiHa261_5100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_lavender_KiHa261_5200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_lavender_KiHa261_5200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_lavender_KiHa261_5200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 default: set_dc261f_1000_lavender_KiHa261_5200_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_7cars_init, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200 + (KiHa260-1300)*3 + KiHa260-1100 + KiRo261-1100

    0: sw_dc261_1000_init_KiHa261_1200_front;
    1: set_dc261_1000_init_KiHa260_1200;
    2: set_dc261_1000_init_KiHa260_1300;
    3: set_dc261_1000_init_KiHa260_1300;
    4: set_dc261_1000_init_KiHa260_1300;
    5: set_dc261_1000_init_KiHa260_1100;
    6: sw_dc261f_1000_init_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_7cars_init, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%7]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200 + (KiHa260-1300)*3 + KiHa260-1100 + KiRo261-1100

    0: sw_dc261f_1000_init_KiHa261_1200_rear;
    1: set_dc261f_1000_init_KiHa260_1200;
    2: set_dc261f_1000_init_KiHa260_1300;
    3: set_dc261f_1000_init_KiHa260_1300;
    4: set_dc261f_1000_init_KiHa260_1300;
    5: set_dc261f_1000_init_KiHa260_1100;
    6: sw_dc261_1000_init_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_7cars_renew, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200 + (KiHa260-1300)*3 + KiHa260-1100 + KiRo261-1100

    0: sw_dc261_1000_renew_KiHa261_1200_front;
    1: set_dc261_1000_renew_KiHa260_1200;
    2: set_dc261_1000_renew_KiHa260_1300;
    3: set_dc261_1000_renew_KiHa260_1300;
    4: set_dc261_1000_renew_KiHa260_1300;
    5: set_dc261_1000_renew_KiHa260_1100;
    6: sw_dc261f_1000_renew_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_7cars_renew, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%7]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200 + (KiHa260-1300)*3 + KiHa260-1100 + KiRo261-1100

    0: sw_dc261f_1000_renew_KiHa261_1200_rear;
    1: set_dc261f_1000_renew_KiHa260_1200;
    2: set_dc261f_1000_renew_KiHa260_1300;
    3: set_dc261f_1000_renew_KiHa260_1300;
    4: set_dc261f_1000_renew_KiHa260_1300;
    5: set_dc261f_1000_renew_KiHa260_1100;
    6: sw_dc261_1000_renew_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_5cars_init, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200 + KiHa260-1300 + KiHa260-1100 + KiRo261-1100

    0: sw_dc261_1000_init_KiHa261_1200_front;
    1: set_dc261_1000_init_KiHa260_1200;
    2: set_dc261_1000_init_KiHa260_1300;
    3: set_dc261_1000_init_KiHa260_1100;
    4: sw_dc261f_1000_init_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_5cars_init, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%7]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200 + KiHa260-1300 + KiHa260-1100 + KiRo261-1100

    0: sw_dc261f_1000_init_KiHa261_1200_rear;
    1: set_dc261f_1000_init_KiHa260_1200;
    2: set_dc261f_1000_init_KiHa260_1300;
    3: set_dc261f_1000_init_KiHa260_1100;
    4: sw_dc261_1000_init_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_5cars_renew, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200 + KiHa260-1300 + KiHa260-1100 + KiRo261-1100

    0: sw_dc261_1000_renew_KiHa261_1200_front;
    1: set_dc261_1000_renew_KiHa260_1200;
    2: set_dc261_1000_renew_KiHa260_1300;
    3: set_dc261_1000_renew_KiHa260_1100;
    4: sw_dc261f_1000_renew_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_5cars_renew, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%7]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200 + KiHa260-1300 + KiHa260-1100 + KiRo261-1100

    0: sw_dc261f_1000_renew_KiHa261_1200_rear;
    1: set_dc261f_1000_renew_KiHa260_1200;
    2: set_dc261f_1000_renew_KiHa260_1300;
    3: set_dc261f_1000_renew_KiHa260_1100;
    4: sw_dc261_1000_renew_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_5cars_hamanasu, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-5200 + KiHa260-5200 + KiHa260-5300 + KiHa260-5100 + KiHa261-5100

    0: sw_dc261_1000_hamanasu_KiHa261_5200_front;
    1: set_dc261_1000_hamanasu_KiHa260_5200;
    2: set_dc261_1000_hamanasu_KiHa260_5300;
    3: set_dc261_1000_hamanasu_KiHa260_5100;
    4: sw_dc261f_1000_hamanasu_KiHa261_5100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_5cars_hamanasu, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%5]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-5200 + KiHa260-5200 + KiHa260-5300 + KiHa260-5100 + KiHa261-5100

    0: sw_dc261f_1000_hamanasu_KiHa261_5200_rear;
    1: set_dc261f_1000_hamanasu_KiHa260_5200;
    2: set_dc261f_1000_hamanasu_KiHa260_5300;
    3: set_dc261f_1000_hamanasu_KiHa260_5100;
    4: sw_dc261_1000_hamanasu_KiHa261_5100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_5cars_lavender, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-5200 + KiHa260-5200 + KiHa260-5300 + KiHa260-5100 + KiHa261-5100

    0: sw_dc261_1000_lavender_KiHa261_5200_front;
    1: set_dc261_1000_lavender_KiHa260_5200;
    2: set_dc261_1000_lavender_KiHa260_5300;
    3: set_dc261_1000_lavender_KiHa260_5100;
    4: sw_dc261f_1000_lavender_KiHa261_5100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_5cars_lavender, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%5]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-5200 + KiHa260-5200 + KiHa260-5300 + KiHa260-5100 + KiHa261-5100

    0: sw_dc261f_1000_lavender_KiHa261_5200_rear;
    1: set_dc261f_1000_lavender_KiHa260_5200;
    2: set_dc261f_1000_lavender_KiHa260_5300;
    3: set_dc261f_1000_lavender_KiHa260_5100;
    4: sw_dc261_1000_lavender_KiHa261_5100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_ST1100_init, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1100 + KiRo261-1100

    0: set_dc261_1000_init_KiHa260_1100;
    1: sw_dc261f_1000_init_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_2cars_ST1100_init, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1100 + KiRo261-1100

    0: set_dc261f_1000_init_KiHa260_1100;
    1: sw_dc261_1000_init_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_ST1200_init, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200

    0: sw_dc261_1000_init_KiHa261_1200_front;
    1: set_dc261_1000_init_KiHa260_1200;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_2cars_ST1200_init, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200

    0: sw_dc261f_1000_init_KiHa261_1200_rear;
    1: set_dc261f_1000_init_KiHa260_1200;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_ST1100_renew, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1100 + KiRo261-1100

    0: set_dc261_1000_renew_KiHa260_1100;
    1: sw_dc261f_1000_renew_KiRo261_1100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_2cars_ST1100_renew, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1100 + KiRo261-1100

    0: set_dc261f_1000_renew_KiHa260_1100;
    1: sw_dc261_1000_renew_KiRo261_1100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_ST1200_renew, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200

    0: sw_dc261_1000_renew_KiHa261_1200_front;
    1: set_dc261_1000_renew_KiHa260_1200;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_2cars_ST1200_renew, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-1200 + KiHa260-1200

    0: sw_dc261f_1000_renew_KiHa261_1200_rear;
    1: set_dc261f_1000_renew_KiHa260_1200;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_ST5101_hamanasu, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa260-5100 + KiHa261-5100

    0: set_dc261_1000_hamanasu_KiHa260_5100;
    1: sw_dc261f_1000_hamanasu_KiHa261_5100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_2cars_ST5101_hamanasu, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Hakodate ->
    // KiHa260-5100 + KiHa261-5100

    0: set_dc261f_1000_hamanasu_KiHa260_5100;
    1: sw_dc261_1000_hamanasu_KiHa261_5100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_ST5201_hamanasu, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-5200 + KiHa260-5200

    0: sw_dc261_1000_hamanasu_KiHa261_5200_front;
    1: set_dc261_1000_hamanasu_KiHa260_5200;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_2cars_ST5201_hamanasu, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-5200 + KiHa260-5200

    0: sw_dc261f_1000_hamanasu_KiHa261_5200_rear;
    1: set_dc261f_1000_hamanasu_KiHa260_5200;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_ST5102_lavender, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa260-5100 + KiHa261-5100

    0: set_dc261_1000_lavender_KiHa260_5100;
    1: sw_dc261f_1000_lavender_KiHa261_5100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_2cars_ST5102_lavender, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Hakodate ->
    // KiHa260-5100 + KiHa261-5100

    0: set_dc261f_1000_lavender_KiHa260_5100;
    1: sw_dc261_1000_lavender_KiHa261_5100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_ST5202_lavender, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa261-5200 + KiHa260-5200

    0: sw_dc261_1000_lavender_KiHa261_5200_front;
    1: set_dc261_1000_lavender_KiHa260_5200;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_2cars_ST5202_lavender, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Hakodate ->
    // KiHa261-5200 + KiHa260-5200

    0: sw_dc261f_1000_lavender_KiHa261_5200_rear;
    1: set_dc261f_1000_lavender_KiHa260_5200;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_1car_1300_init, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1300

    0: set_dc261_1000_init_KiHa260_1300;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_1car_1300_init, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%1]) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1300

    0: set_dc261f_1000_init_KiHa260_1300;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_1car_1300_renew, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1300

    0: set_dc261_1000_renew_KiHa260_1300;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_1car_1300_renew, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%1]) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1300

    0: set_dc261f_1000_renew_KiHa260_1300;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_1car_1400_renew, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1300

    0: set_dc261_1000_renew_KiHa260_1400;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_1car_1400_renew, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%1]) {
    // <- Sapporo | Hakodate ->
    // KiHa260-1300

    0: set_dc261f_1000_renew_KiHa260_1400;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_1car_5300_hamanasu, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa260-5300

    0: set_dc261_1000_hamanasu_KiHa260_5300;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_1car_5300_hamanasu, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%1]) {
    // <- Sapporo | Hakodate ->
    // KiHa260-5300

    0: set_dc261f_1000_hamanasu_KiHa260_5300;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_1car_5300_lavender, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa260-5300

    0: set_dc261_1000_lavender_KiHa260_5300;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_1car_5300_lavender, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%1]) {
    // <- Sapporo | Hakodate ->
    // KiHa260-5300

    0: set_dc261f_1000_lavender_KiHa260_5300;
}


switch(FEAT_TRAINS, SELF, sw_dc261_1000_7cars_formations, cargo_subtype) {
    0: sw_dc261_1000_7cars_init;
    1: sw_dc261_1000_7cars_renew;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_5cars_formations, cargo_subtype) {
    0: sw_dc261_1000_5cars_init;
    1: sw_dc261_1000_5cars_renew;
    2: sw_dc261_1000_5cars_hamanasu;
    3: sw_dc261_1000_5cars_lavender;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_formations, cargo_subtype) {
    0: sw_dc261_1000_2cars_ST1100_init;
    1: sw_dc261_1000_2cars_ST1200_init;
    2: sw_dc261_1000_2cars_ST1100_renew;
    3: sw_dc261_1000_2cars_ST1200_renew;
    4: sw_dc261_1000_2cars_ST5101_hamanasu;
    5: sw_dc261_1000_2cars_ST5201_hamanasu;
    6: sw_dc261_1000_2cars_ST5102_lavender;
    7: sw_dc261_1000_2cars_ST5202_lavender;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_1car_formations, cargo_subtype) {
    0: sw_dc261_1000_1car_1300_init;
    1: sw_dc261_1000_1car_1300_renew;
    2: sw_dc261_1000_1car_1400_renew;
    3: sw_dc261_1000_1car_5300_hamanasu;
    4: sw_dc261_1000_1car_5300_lavender;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_7cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_dc261f_1000_7cars_init;
    1: sw_dc261f_1000_7cars_renew;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_5cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_dc261f_1000_5cars_init;
    1: sw_dc261f_1000_5cars_renew;
    2: sw_dc261f_1000_5cars_hamanasu;
    3: sw_dc261f_1000_5cars_lavender;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_2cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_dc261f_1000_2cars_ST1100_init;
    1: sw_dc261f_1000_2cars_ST1200_init;
    2: sw_dc261f_1000_2cars_ST1100_renew;
    3: sw_dc261f_1000_2cars_ST1200_renew;
    4: sw_dc261f_1000_2cars_ST5101_hamanasu;
    5: sw_dc261f_1000_2cars_ST5201_hamanasu;
    6: sw_dc261f_1000_2cars_ST5102_lavender;
    7: sw_dc261f_1000_2cars_ST5202_lavender;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_1000_1car_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_dc261f_1000_1car_1300_init;
    1: sw_dc261f_1000_1car_1300_renew;
    2: sw_dc261f_1000_1car_1400_renew;
    3: sw_dc261f_1000_1car_5300_hamanasu;
    4: sw_dc261f_1000_1car_5300_lavender;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_rvformation, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    dmu261_1000_7cars: sw_dc261f_1000_7cars_formations;
    dmu261_1000_5cars: sw_dc261f_1000_5cars_formations;
    dmu261_1000_2cars: sw_dc261f_1000_2cars_formations;
    dmu261_1000_1car : sw_dc261f_1000_1car_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc261_1000_7cars_gfx_main, vehicle_is_reversed) {
    1: sw_dc261_1000_rvformation;
    default: sw_dc261_1000_7cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc261_1000_5cars_gfx_main, vehicle_is_reversed) {
    1: sw_dc261_1000_rvformation;
    default: sw_dc261_1000_5cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc261_1000_2cars_gfx_main, vehicle_is_reversed) {
    1: sw_dc261_1000_rvformation;
    default: sw_dc261_1000_2cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc261_1000_1car_gfx_main, vehicle_is_reversed) {
    1: sw_dc261_1000_rvformation;
    default: sw_dc261_1000_1car_formations;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_7cars_subtypes, cargo_subtype) {
 0: string(STR_LV_DC261_1000_7CARS_INIT);
 1: string(STR_LV_DC261_1000_7CARS_RENEW);
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_5cars_subtypes, cargo_subtype) {
 0: string(STR_LV_DC261_1000_5CARS_INIT);
 1: string(STR_LV_DC261_1000_5CARS_RENEW);
 2: string(STR_LV_DC261_1000_5CARS_HAMANASU);
 3: string(STR_LV_DC261_1000_5CARS_LAVENDER);
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_subtypes, cargo_subtype) {
 0: string(STR_LV_DC261_1000_2CARS_ST1100_INIT);
 1: string(STR_LV_DC261_1000_2CARS_ST1200_INIT);
 2: string(STR_LV_DC261_1000_2CARS_ST1100_RENEW);
 3: string(STR_LV_DC261_1000_2CARS_ST1200_RENEW);
 4: string(STR_LV_DC261_1000_2CARS_ST5101_HAMANASU);
 5: string(STR_LV_DC261_1000_2CARS_ST5201_HAMANASU);
 6: string(STR_LV_DC261_1000_2CARS_ST5102_LAVENDER);
 7: string(STR_LV_DC261_1000_2CARS_ST5202_LAVENDER);
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_1car_subtypes, cargo_subtype) {
 0: string(STR_LV_DC261_1000_1CAR_1300_INIT);
 1: string(STR_LV_DC261_1000_1CAR_1300_RENEW);
 2: string(STR_LV_DC261_1000_1CAR_1400_RENEW);
 3: string(STR_LV_DC261_1000_1CAR_5300_HAMANASU);
 4: string(STR_LV_DC261_1000_1CAR_5300_LAVENDER);
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_7cars_artpart, extra_callback_info1) {
    0..6: dmu261_1000_7cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_5cars_artpart, extra_callback_info1) {
    0..4: dmu261_1000_5cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_dc261_1000_2cars_artpart, extra_callback_info1) {
    0..1: dmu261_1000_2cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, dmu261_1000_7cars) {
    property {
        name: string(STR_DC261_1000_7CARS_NAME);
        introduction_date: date(2007, 10, 01);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 460 * 2 * 7 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 7 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
    }

    graphics {
  purchase : set_dc261_1000_purchase;

        // Below items are depends on consist
        default : sw_dc261_1000_7cars_gfx_main;
        can_attach_wagon : sw_dc261_1000_7cars_can_attach_wagon;
  additional_text : string(STR_DC261_1000_7CARS_DESC);
        cargo_subtype_text: sw_dc261_1000_7cars_subtypes;
  articulated_part : sw_dc261_1000_7cars_artpart;
    }
}

item(FEAT_TRAINS, dmu261_1000_5cars) {
    property {
        name: string(STR_DC261_1000_5CARS_NAME);
        introduction_date: date(2007, 10, 01);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 460 * 2 * 5 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 5 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        variant_group: dmu261_1000_7cars;
    }

    graphics {
  purchase : set_dc261_1000_purchase;

        // Below items are depends on consist
        default : sw_dc261_1000_5cars_gfx_main;
        can_attach_wagon : sw_dc261_1000_5cars_can_attach_wagon;
  additional_text : string(STR_DC261_1000_5CARS_DESC);
        cargo_subtype_text: sw_dc261_1000_5cars_subtypes;
  articulated_part : sw_dc261_1000_5cars_artpart;
    }
}

item(FEAT_TRAINS, dmu261_1000_2cars) {
    property {
        name: string(STR_DC261_1000_2CARS_NAME);
        introduction_date: date(2007, 10, 01);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 460 * 2 * 2 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 2 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        variant_group: dmu261_1000_7cars;
    }

    graphics {
  purchase : set_dc261_1000_purchase;

        // Below items are depends on consist
        default : sw_dc261_1000_2cars_gfx_main;
        can_attach_wagon : sw_dc261_1000_2cars_can_attach_wagon;
  additional_text : string(STR_DC261_1000_2CARS_DESC);
        cargo_subtype_text: sw_dc261_1000_2cars_subtypes;
  articulated_part : sw_dc261_1000_2cars_artpart;
    }
}

item(FEAT_TRAINS, dmu261_1000_1car) {
    property {
        name: string(STR_DC261_1000_1CAR_NAME);
        introduction_date: date(2007, 10, 01);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 460 * 2 * 1 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 1 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        variant_group: dmu261_1000_7cars;
    }

    graphics {
  purchase : set_dc261_1000_purchase;

        // Below items are depends on consist
        default : sw_dc261_1000_1car_gfx_main;
        can_attach_wagon : sw_dc261_1000_1car_can_attach_wagon;
  additional_text : string(STR_DC261_1000_1CAR_DESC);
        cargo_subtype_text: sw_dc261_1000_1car_subtypes;
  // articulated_part  : sw_dc261_1000_1car_artpart;
    }
}
# 6 "src/vehicles.pnml" 2
# 1 "src/vehicles/dmu261_series/dmu261_0_main.pnml" 1
spriteset(set_dc261_0_purchase, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_dc261_0_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_dc261_0_KiHa261_100_rear, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_dc261_0_KiHa261_100_unlighted, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_dc261_0_KiHa261_100_front, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_dc261_0_KiRoHa261_200_rear, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }
spriteset(set_dc261_0_KiRoHa261_200_front, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 5, 0) }
spriteset(set_dc261_0_KiHa260_100, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 6, 0) }
spriteset(set_dc261_0_KiHa260_200, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 7, 0) }
spriteset(set_dc261_0_KiRoHa261_200_unlighted, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 8, 0) }

spriteset(set_dc261f_0_KiHa261_100_rear, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_dc261f_0_KiHa261_100_unlighted, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_dc261f_0_KiHa261_100_front, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_dc261f_0_KiRoHa261_200_rear, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }
spriteset(set_dc261f_0_KiRoHa261_200_front, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 5, 1) }
spriteset(set_dc261f_0_KiHa260_100, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 6, 1) }
spriteset(set_dc261f_0_KiHa260_200, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 7, 1) }
spriteset(set_dc261f_0_KiRoHa261_200_unlighted, "gfx/8bpp/dc261_0-8bpp.png") { tmpl_vehicle_8_views( 8, 1) }

alternative_sprites(set_dc261_0_KiHa261_100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_dc261_0_KiHa261_100_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_dc261_0_KiHa261_100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_dc261_0_KiRoHa261_200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }
alternative_sprites(set_dc261_0_KiRoHa261_200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 5, 0) }
alternative_sprites(set_dc261_0_KiHa260_100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 6, 0) }
alternative_sprites(set_dc261_0_KiHa260_200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 7, 0) }
alternative_sprites(set_dc261_0_KiRoHa261_200_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 8, 0) }

alternative_sprites(set_dc261f_0_KiHa261_100_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_dc261f_0_KiHa261_100_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_dc261f_0_KiHa261_100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_dc261f_0_KiRoHa261_200_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }
alternative_sprites(set_dc261f_0_KiRoHa261_200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 5, 1) }
alternative_sprites(set_dc261f_0_KiHa260_100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 6, 1) }
alternative_sprites(set_dc261f_0_KiHa260_200, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 7, 1) }
alternative_sprites(set_dc261f_0_KiRoHa261_200_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc261_0-32bpp.png") { tmpl_vehicle_8_views( 8, 1) }

switch(FEAT_TRAINS, SELF, sw_dc261_0_4cars_can_attach_wagon, vehicle_type_id) {
    dmu261_0_2cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_DC261_0_4CARS_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_2cars_can_attach_wagon, vehicle_type_id) {
    dmu261_0_2cars: CB_RESULT_ATTACH_ALLOW;
    dmu261_0_4cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_DC261_0_2CARS_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_KiHa261_100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc261_0_KiHa261_100_unlighted;
 default: set_dc261_0_KiHa261_100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_KiHa261_100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc261_0_KiHa261_100_unlighted;
 default: set_dc261_0_KiHa261_100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_0_KiHa261_100_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc261f_0_KiHa261_100_unlighted;
 default: set_dc261f_0_KiHa261_100_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_0_KiHa261_100_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc261f_0_KiHa261_100_unlighted;
 default: set_dc261f_0_KiHa261_100_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_KiRoHa261_200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc261_0_KiRoHa261_200_unlighted;
 default: set_dc261_0_KiRoHa261_200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_KiRoHa261_200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc261_0_KiRoHa261_200_unlighted;
 default: set_dc261_0_KiRoHa261_200_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_0_KiRoHa261_200_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc261f_0_KiRoHa261_200_unlighted;
 default: set_dc261f_0_KiRoHa261_200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_0_KiRoHa261_200_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc261f_0_KiRoHa261_200_unlighted;
 default: set_dc261f_0_KiRoHa261_200_rear;
}


switch(FEAT_TRAINS, SELF, sw_dc261_0_4cars, position_in_articulated_veh) {
    // <- Sapporo | Asahikawa ->
    // KiHa261-100 + KiHa260-100 + KiHa260-200 + KiRoHa261-200

    0: sw_dc261_0_KiHa261_100_front;
    1: set_dc261_0_KiHa260_100;
    2: set_dc261_0_KiHa260_200;
    3: sw_dc261f_0_KiRoHa261_200_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_0_4cars, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%4]) {
    // <- Sapporo | Asahikawa ->
    // KiHa261-100 + KiHa260-100 + KiHa260-200 + KiRoHa261-200

    0: sw_dc261f_0_KiHa261_100_rear;
    1: set_dc261f_0_KiHa260_100;
    2: set_dc261f_0_KiHa260_200;
    3: sw_dc261_0_KiRoHa261_200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_2cars_se100, position_in_articulated_veh) {
    // <- Sapporo | Asahikawa ->
    // KiHa261-100 + KiHa260-100

    0: sw_dc261_0_KiHa261_100_front;
    1: set_dc261_0_KiHa260_100;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_0_2cars_se100, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Asahikawa ->
    // KiHa261-100 + KiHa260-100

    0: sw_dc261f_0_KiHa261_100_rear;
    1: set_dc261f_0_KiHa260_100;
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_2cars_se200, position_in_articulated_veh) {
    // <- Sapporo | Asahikawa ->
    // KiHa260-200 + KiRoHa261-200

    0: set_dc261_0_KiHa260_200;
    1: sw_dc261f_0_KiRoHa261_200_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_0_2cars_se200, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Asahikawa ->
    // KiHa260-200 + KiRoHa261-200

    0: set_dc261f_0_KiHa260_200;
    1: sw_dc261_0_KiRoHa261_200_front;
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_4cars_formations, cargo_subtype) {
    default: sw_dc261_0_4cars;
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_2cars_formations, cargo_subtype) {
    0: sw_dc261_0_2cars_se100;
    1: sw_dc261_0_2cars_se200;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_0_4cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    default: sw_dc261f_0_4cars;
}

switch(FEAT_TRAINS, SELF, sw_dc261f_0_2cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_dc261f_0_2cars_se100;
    1: sw_dc261f_0_2cars_se200;
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_rvformation, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    dmu261_0_2cars: sw_dc261f_0_2cars_formations;
    dmu261_0_4cars: sw_dc261f_0_4cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc261_0_4cars_gfx_main, vehicle_is_reversed) {
    1: sw_dc261_0_rvformation;
    default: sw_dc261_0_4cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc261_0_2cars_gfx_main, vehicle_is_reversed) {
    1: sw_dc261_0_rvformation;
    default: sw_dc261_0_2cars_formations;
}

// switch(FEAT_TRAINS, SELF, sw_dc261_0_4cars_subtypes, cargo_subtype) {
// 	0: string(STR_LV_DC261_0);
// }

switch(FEAT_TRAINS, SELF, sw_dc261_0_2cars_subtypes, cargo_subtype) {
 0: string(STR_LV_DC261_0_2CARS_SE100);
 1: string(STR_LV_DC261_0_2CARS_SE200);
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_4cars_artpart, extra_callback_info1) {
    0..3: dmu261_0_4cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_dc261_0_2cars_artpart, extra_callback_info1) {
    0..1: dmu261_0_2cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, dmu261_0_4cars) {
    property {
        name: string(STR_DC261_0_4CARS_NAME);
        introduction_date: date(2000, 3, 11);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 460 * 2 * 4 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 4 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
    }

    graphics {
  purchase : set_dc261_0_purchase;

        // Below items are depends on consist
        default : sw_dc261_0_4cars_gfx_main;
        can_attach_wagon : sw_dc261_0_4cars_can_attach_wagon;
  additional_text : string(STR_DC261_0_4CARS_DESC);
        // cargo_subtype_text: sw_dc261_0_4cars_subtypes;
  articulated_part : sw_dc261_0_4cars_artpart;
    }
}

item(FEAT_TRAINS, dmu261_0_2cars) {
    property {
        name: string(STR_DC261_0_2CARS_NAME);
        introduction_date: date(2000, 3, 11);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 460 * 2 * 2 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 2 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        variant_group: dmu261_0_4cars;
    }

    graphics {
  purchase : set_dc261_0_purchase;

        // Below items are depends on consist
        default : sw_dc261_0_2cars_gfx_main;
        can_attach_wagon : sw_dc261_0_2cars_can_attach_wagon;
  additional_text : string(STR_DC261_0_2CARS_DESC);
        cargo_subtype_text: sw_dc261_0_2cars_subtypes;
  articulated_part : sw_dc261_0_2cars_artpart;
    }
}
# 7 "src/vehicles.pnml" 2
# 1 "src/vehicles/dmu281group/dmu281group_main.pnml" 1
spriteset( set_dc283_purchase, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_dc283_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_dc283_init_kiha283_front, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_dc283_init_kiha283_rear, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_dc283_init_kiha283_unlighted, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_dc283_init_kiro282, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }
spriteset(set_dc283_init_kiha282_0, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 5, 0) }
spriteset(set_dc283_init_kiha282_100, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 6, 0) }
spriteset(set_dc283_init_kiha282_2000, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 7, 0) }

spriteset(set_dc283f_init_kiha283_front, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_dc283f_init_kiha283_rear, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_dc283f_init_kiha283_unlighted, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_dc283f_init_kiro282, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }
spriteset(set_dc283f_init_kiha282_0, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 5, 1) }
spriteset(set_dc283f_init_kiha282_100, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 6, 1) }
spriteset(set_dc283f_init_kiha282_2000, "gfx/8bpp/dc283-8bpp.png") { tmpl_vehicle_8_views( 7, 1) }

alternative_sprites(set_dc283_init_kiha283_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_dc283_init_kiha283_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_dc283_init_kiha283_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_dc283_init_kiro282, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }
alternative_sprites(set_dc283_init_kiha282_0, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 5, 0) }
alternative_sprites(set_dc283_init_kiha282_100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 6, 0) }
alternative_sprites(set_dc283_init_kiha282_2000, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 7, 0) }

alternative_sprites(set_dc283f_init_kiha283_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_dc283f_init_kiha283_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_dc283f_init_kiha283_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_dc283f_init_kiro282, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }
alternative_sprites(set_dc283f_init_kiha282_0, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 5, 1) }
alternative_sprites(set_dc283f_init_kiha282_100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 6, 1) }
alternative_sprites(set_dc283f_init_kiha282_2000, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc283-32bpp.png") { tmpl_vehicle_8_views( 7, 1) }



spriteset( set_dc281_purchase, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_dc281_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }

spriteset(set_dc281_HET_kiha281_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 1, 0) }
spriteset(set_dc281_HET_kiha281_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 2, 0) }
spriteset(set_dc281_HET_kiha281_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 3, 0) }
spriteset(set_dc281_FURICO_kiha281_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 4, 0) }
spriteset(set_dc281_FURICO_kiha281_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 5, 0) }
spriteset(set_dc281_FURICO_kiha281_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 6, 0) }
spriteset(set_dc281_HET_kiha281_900_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 7, 0) }
spriteset(set_dc281_HET_kiha281_900_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 8, 0) }
spriteset(set_dc281_HET_kiha281_900_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 9, 0) }
spriteset(set_dc281_FURICO_kiha281_900_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (10, 0) }
spriteset(set_dc281_FURICO_kiha281_900_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (11, 0) }
spriteset(set_dc281_FURICO_kiha281_900_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (12, 0) }
spriteset(set_dc281_HEAT_kiha281_900_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (13, 0) }
spriteset(set_dc281_HEAT_kiha281_900_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (14, 0) }
spriteset(set_dc281_HEAT_kiha281_900_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (15, 0) }
spriteset(set_dc281_init_kiha280, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (16, 0) }
spriteset(set_dc281_init_kiha280_100, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (17, 0) }
spriteset(set_dc281_init_kiro280, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (18, 0) }

spriteset(set_dc281f_HET_kiha281_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 1, 1) }
spriteset(set_dc281f_HET_kiha281_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 2, 1) }
spriteset(set_dc281f_HET_kiha281_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 3, 1) }
spriteset(set_dc281f_FURICO_kiha281_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 4, 1) }
spriteset(set_dc281f_FURICO_kiha281_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 5, 1) }
spriteset(set_dc281f_FURICO_kiha281_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 6, 1) }
spriteset(set_dc281f_HET_kiha281_900_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 7, 1) }
spriteset(set_dc281f_HET_kiha281_900_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 8, 1) }
spriteset(set_dc281f_HET_kiha281_900_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views ( 9, 1) }
spriteset(set_dc281f_FURICO_kiha281_900_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (10, 1) }
spriteset(set_dc281f_FURICO_kiha281_900_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (11, 1) }
spriteset(set_dc281f_FURICO_kiha281_900_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (12, 1) }
spriteset(set_dc281f_HEAT_kiha281_900_front, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (13, 1) }
spriteset(set_dc281f_HEAT_kiha281_900_unlighted, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (14, 1) }
spriteset(set_dc281f_HEAT_kiha281_900_rear, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (15, 1) }
spriteset(set_dc281f_init_kiha280, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (16, 1) }
spriteset(set_dc281f_init_kiha280_100, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (17, 1) }
spriteset(set_dc281f_init_kiro280, "gfx/8bpp/dc281-8bpp.png") { tmpl_vehicle_8_views (18, 1) }


alternative_sprites(set_dc281_HET_kiha281_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 1, 0) }
alternative_sprites(set_dc281_HET_kiha281_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 2, 0) }
alternative_sprites(set_dc281_HET_kiha281_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 3, 0) }
alternative_sprites(set_dc281_FURICO_kiha281_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 4, 0) }
alternative_sprites(set_dc281_FURICO_kiha281_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 5, 0) }
alternative_sprites(set_dc281_FURICO_kiha281_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 6, 0) }
alternative_sprites(set_dc281_HET_kiha281_900_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 7, 0) }
alternative_sprites(set_dc281_HET_kiha281_900_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 8, 0) }
alternative_sprites(set_dc281_HET_kiha281_900_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 9, 0) }
alternative_sprites(set_dc281_FURICO_kiha281_900_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (10, 0) }
alternative_sprites(set_dc281_FURICO_kiha281_900_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (11, 0) }
alternative_sprites(set_dc281_FURICO_kiha281_900_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (12, 0) }
alternative_sprites(set_dc281_HEAT_kiha281_900_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (13, 0) }
alternative_sprites(set_dc281_HEAT_kiha281_900_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (14, 0) }
alternative_sprites(set_dc281_HEAT_kiha281_900_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (15, 0) }
alternative_sprites(set_dc281_init_kiha280, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (16, 0) }
alternative_sprites(set_dc281_init_kiha280_100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (17, 0) }
alternative_sprites(set_dc281_init_kiro280, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (18, 0) }

alternative_sprites(set_dc281f_HET_kiha281_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 1, 1) }
alternative_sprites(set_dc281f_HET_kiha281_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 2, 1) }
alternative_sprites(set_dc281f_HET_kiha281_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 3, 1) }
alternative_sprites(set_dc281f_FURICO_kiha281_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 4, 1) }
alternative_sprites(set_dc281f_FURICO_kiha281_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 5, 1) }
alternative_sprites(set_dc281f_FURICO_kiha281_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 6, 1) }
alternative_sprites(set_dc281f_HET_kiha281_900_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 7, 1) }
alternative_sprites(set_dc281f_HET_kiha281_900_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 8, 1) }
alternative_sprites(set_dc281f_HET_kiha281_900_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views ( 9, 1) }
alternative_sprites(set_dc281f_FURICO_kiha281_900_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (10, 1) }
alternative_sprites(set_dc281f_FURICO_kiha281_900_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (11, 1) }
alternative_sprites(set_dc281f_FURICO_kiha281_900_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (12, 1) }
alternative_sprites(set_dc281f_HEAT_kiha281_900_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (13, 1) }
alternative_sprites(set_dc281f_HEAT_kiha281_900_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (14, 1) }
alternative_sprites(set_dc281f_HEAT_kiha281_900_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (15, 1) }
alternative_sprites(set_dc281f_init_kiha280, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (16, 1) }
alternative_sprites(set_dc281f_init_kiha280_100, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (17, 1) }
alternative_sprites(set_dc281f_init_kiro280, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/dc281-32bpp.png") { tmpl_vehicle_8_views (18, 1) }



switch(FEAT_TRAINS, SELF, sw_dc283_6cars_can_attach_wagon, vehicle_type_id) {
 dmu283_6cars: CB_RESULT_ATTACH_ALLOW;
 dmu283_1car: CB_RESULT_ATTACH_ALLOW;
 dmu281_7cars: CB_RESULT_ATTACH_ALLOW;
 dmu281_1car: CB_RESULT_ATTACH_ALLOW;
    default: CB_FAILED;
}

switch(FEAT_TRAINS, SELF, sw_dc283_1car_can_attach_wagon, vehicle_type_id) {
 dmu283_6cars: CB_RESULT_ATTACH_ALLOW;
 dmu283_1car: CB_RESULT_ATTACH_ALLOW;
 dmu281_7cars: CB_RESULT_ATTACH_ALLOW;
 dmu281_1car: CB_RESULT_ATTACH_ALLOW;
    default: CB_FAILED;
}

switch(FEAT_TRAINS, SELF, sw_dc281_7cars_can_attach_wagon, vehicle_type_id) {
 dmu283_6cars: CB_RESULT_ATTACH_ALLOW;
 dmu283_1car: CB_RESULT_ATTACH_ALLOW;
 dmu281_7cars: CB_RESULT_ATTACH_ALLOW;
 dmu281_1car: CB_RESULT_ATTACH_ALLOW;
    default: CB_FAILED;
}

switch(FEAT_TRAINS, SELF, sw_dc281_1car_can_attach_wagon, vehicle_type_id) {
 dmu283_6cars: CB_RESULT_ATTACH_ALLOW;
 dmu283_1car: CB_RESULT_ATTACH_ALLOW;
 dmu281_7cars: CB_RESULT_ATTACH_ALLOW;
 dmu281_1car: CB_RESULT_ATTACH_ALLOW;
    default: CB_FAILED;
}


switch(FEAT_TRAINS, SELF, sw_dc283_init_kiha283_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc283_init_kiha283_unlighted;
 default: set_dc283_init_kiha283_front;
}

switch(FEAT_TRAINS, SELF, sw_dc283_init_kiha283_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc283_init_kiha283_unlighted;
 default: set_dc283_init_kiha283_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281_HET_kiha281_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_HET_kiha281_unlighted;
 default: set_dc281_HET_kiha281_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281_HET_kiha281_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_HET_kiha281_unlighted;
 default: set_dc281_HET_kiha281_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281_FURICO_kiha281_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_FURICO_kiha281_unlighted;
 default: set_dc281_FURICO_kiha281_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281_FURICO_kiha281_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_FURICO_kiha281_unlighted;
 default: set_dc281_FURICO_kiha281_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281_HET_kiha281_900_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_HET_kiha281_900_unlighted;
 default: set_dc281_HET_kiha281_900_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281_HET_kiha281_900_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_HET_kiha281_900_unlighted;
 default: set_dc281_HET_kiha281_900_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281_FURICO_kiha281_900_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_FURICO_kiha281_900_unlighted;
 default: set_dc281_FURICO_kiha281_900_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281_FURICO_kiha281_900_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_FURICO_kiha281_900_unlighted;
 default: set_dc281_FURICO_kiha281_900_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281_HEAT_kiha281_900_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_HEAT_kiha281_900_unlighted;
 default: set_dc281_HEAT_kiha281_900_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281_HEAT_kiha281_900_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281_HEAT_kiha281_900_unlighted;
 default: set_dc281_HEAT_kiha281_900_rear;
}


switch(FEAT_TRAINS, SELF, sw_dc283f_init_kiha283_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc283f_init_kiha283_unlighted;
 default: set_dc283f_init_kiha283_front;
}

switch(FEAT_TRAINS, SELF, sw_dc283f_init_kiha283_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc283f_init_kiha283_unlighted;
 default: set_dc283f_init_kiha283_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_HET_kiha281_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_HET_kiha281_unlighted;
 default: set_dc281f_HET_kiha281_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_HET_kiha281_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_HET_kiha281_unlighted;
 default: set_dc281f_HET_kiha281_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_FURICO_kiha281_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_FURICO_kiha281_unlighted;
 default: set_dc281f_FURICO_kiha281_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_FURICO_kiha281_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_FURICO_kiha281_unlighted;
 default: set_dc281f_FURICO_kiha281_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_HET_kiha281_900_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_HET_kiha281_900_unlighted;
 default: set_dc281f_HET_kiha281_900_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_HET_kiha281_900_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_HET_kiha281_900_unlighted;
 default: set_dc281f_HET_kiha281_900_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_FURICO_kiha281_900_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_FURICO_kiha281_900_unlighted;
 default: set_dc281f_FURICO_kiha281_900_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_FURICO_kiha281_900_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_FURICO_kiha281_900_unlighted;
 default: set_dc281f_FURICO_kiha281_900_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_HEAT_kiha281_900_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_HEAT_kiha281_900_unlighted;
 default: set_dc281f_HEAT_kiha281_900_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_HEAT_kiha281_900_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 0: set_dc281f_HEAT_kiha281_900_unlighted;
 default: set_dc281f_HEAT_kiha281_900_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc283_6cars_init, position_in_articulated_veh) {
    // <- Sapporo | Kushiro ->
    // KiHa283-0 + KiHa282-0 + KiRo282-0 + KiHa282-200 + KiHa282-100 + KiHa283-0

    0: sw_dc283_init_kiha283_front;
    1: set_dc283_init_kiha282_0;
    2: set_dc283_init_kiro282;
    3: set_dc283_init_kiha282_100;
    4: set_dc283_init_kiha282_100;
    5: sw_dc283f_init_kiha283_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281_7cars_HET, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa281-0 + KiHa280-100 + KiRo280-0 + KiHa280-100 + KiHa280-0 + KiHa280-100 + KiHa281-0

    0: sw_dc281_HET_kiha281_front;
    1: set_dc281_init_kiha280_100;
    2: set_dc281_init_kiro280;
    3: set_dc281_init_kiha280_100;
 4: set_dc281_init_kiha280;
    5: set_dc281_init_kiha280_100;
    6: sw_dc281f_HET_kiha281_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc281_7cars_FURICO, position_in_articulated_veh) {
    // <- Sapporo | Hakodate ->
    // KiHa281-0 + KiHa280-100 + KiRo280-0 + KiHa280-100 + KiHa280-0 + KiHa280-100 + KiHa281-0

    0: sw_dc281_FURICO_kiha281_front;
    1: set_dc281_init_kiha280_100;
    2: set_dc281_init_kiro280;
    3: set_dc281_init_kiha280_100;
 4: set_dc281_init_kiha280;
    5: set_dc281_init_kiha280_100;
    6: sw_dc281f_FURICO_kiha281_rear;
}

switch(FEAT_TRAINS, SELF, sw_dc283f_6cars_init, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%6]) {
    // <- Sapporo | Kushiro ->
    // KiHa283-0 + KiHa282-0 + KiRo282-0 + KiHa282-200 + KiHa282-100 + KiHa283-0

    0: sw_dc283f_init_kiha283_rear;
    1: set_dc283f_init_kiha282_0;
    2: set_dc283f_init_kiro282;
    3: set_dc283f_init_kiha282_100;
    4: set_dc283f_init_kiha282_100;
    5: sw_dc283_init_kiha283_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_7cars_HET, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%7]) {
    // <- Sapporo | Hakodate ->
    // KiHa281-0 + KiHa280-100 + KiRo280-0 + KiHa280-100 + KiHa280-0 + KiHa280-100 + KiHa281-0

    0: sw_dc281f_HET_kiha281_rear;
    1: set_dc281f_init_kiha280_100;
    2: set_dc281f_init_kiro280;
    3: set_dc281f_init_kiha280_100;
 4: set_dc281f_init_kiha280;
    5: set_dc281f_init_kiha280_100;
    6: sw_dc281_HET_kiha281_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_7cars_FURICO, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%7]) {
    // <- Sapporo | Hakodate ->
    // KiHa281-0 + KiHa280-100 + KiRo280-0 + KiHa280-100 + KiHa280-0 + KiHa280-100 + KiHa281-0

    0: sw_dc281f_FURICO_kiha281_rear;
    1: set_dc281f_init_kiha280_100;
    2: set_dc281f_init_kiro280;
    3: set_dc281f_init_kiha280_100;
 4: set_dc281f_init_kiha280;
    5: set_dc281f_init_kiha280_100;
    6: sw_dc281_FURICO_kiha281_front;
}

switch(FEAT_TRAINS, SELF, sw_dc281_7cars_formations, cargo_subtype) {
    0: sw_dc281_7cars_HET;
    1: sw_dc281_7cars_FURICO;
}

switch(FEAT_TRAINS, SELF, sw_dc281_1car_formations, cargo_subtype) {
//      0: sw_dc281_1car_HET_KIHA281_0_Sapporo;
//      1: sw_dc281_1car_HET_KIHA281_0_Hakodate;
//      2: sw_dc281_1car_FURICO_KIHA281_0_Sapporo;
//      3: sw_dc281_1car_FURICO_KIHA281_0_Hakodate;
//      4: sw_dc281_1car_HET_KIHA281_900_Sapporo;
//      5: sw_dc281_1car_HET_KIHA281_900_Hakodate;
//      6: sw_dc281_1car_FURICO_KIHA281_900_Sapporo;
//      7: sw_dc281_1car_FURICO_KIHA281_900_Hakodate;
//      8: sw_dc281_1car_HEAT_KIHA281_900_Sapporo;
//      9: sw_dc281_1car_HEAT_KIHA281_900_Hakodate;
//     10: sw_dc281_1car_KIHA280_0;
//     11: sw_dc281_1car_KIHA280_100;
//     12: sw_dc281_1car_KIRO280_0;

     0: sw_dc281_HET_kiha281_front;
     1: sw_dc281f_HET_kiha281_rear;
     2: sw_dc281_FURICO_kiha281_front;
     3: sw_dc281f_FURICO_kiha281_rear;
     4: sw_dc281_HET_kiha281_900_front;
     5: sw_dc281f_HET_kiha281_900_rear;
     6: sw_dc281_FURICO_kiha281_900_front;
     7: sw_dc281f_FURICO_kiha281_900_rear;
     8: sw_dc281_HEAT_kiha281_900_front;
     9: sw_dc281f_HEAT_kiha281_900_rear;
    10: set_dc281_init_kiha280;
    11: set_dc281_init_kiha280_100;
    12: set_dc281_init_kiro280;

}

switch(FEAT_TRAINS, SELF, sw_dc283_6cars_formations, cargo_subtype) {
    0: sw_dc283_6cars_init;
}

switch(FEAT_TRAINS, SELF, sw_dc283_1car_formations, cargo_subtype) {
    0: sw_dc283_init_kiha283_front;
    1: sw_dc283f_init_kiha283_rear;
    2: set_dc283_init_kiro282;
    3: set_dc283_init_kiha282_0;
    4: set_dc283_init_kiha282_100;
    5: set_dc283_init_kiha282_2000;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_7cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_dc281f_7cars_HET;
    1: sw_dc281f_7cars_FURICO;
}

switch(FEAT_TRAINS, SELF, sw_dc281f_1car_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
     0: sw_dc281f_HET_kiha281_rear;
     1: sw_dc281_HET_kiha281_front;
     2: sw_dc281f_FURICO_kiha281_rear;
     3: sw_dc281_FURICO_kiha281_front;
     4: sw_dc281f_HET_kiha281_900_rear;
     5: sw_dc281_HET_kiha281_900_front;
     6: sw_dc281f_FURICO_kiha281_900_rear;
     7: sw_dc281_FURICO_kiha281_900_front;
     8: sw_dc281f_HEAT_kiha281_900_rear;
     9: sw_dc281_HEAT_kiha281_900_front;
    10: set_dc281f_init_kiha280;
    11: set_dc281f_init_kiha280_100;
    12: set_dc281f_init_kiro280;
}

switch(FEAT_TRAINS, SELF, sw_dc283f_6cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_dc283f_6cars_init;
}

switch(FEAT_TRAINS, SELF, sw_dc283f_1car_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_dc283f_init_kiha283_rear;
    1: sw_dc283_init_kiha283_front;
    2: set_dc283f_init_kiro282;
    3: set_dc283f_init_kiha282_0;
    4: set_dc283f_init_kiha282_100;
    5: set_dc283f_init_kiha282_2000;
}


switch(FEAT_TRAINS, SELF, sw_dc281group_rvformation, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    dmu281_7cars: sw_dc281f_7cars_formations;
    dmu281_1car : sw_dc281f_1car_formations;
    dmu283_6cars: sw_dc283f_6cars_formations;
    dmu283_1car : sw_dc283f_1car_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc281_7cars_gfx_main, vehicle_is_reversed) {
    1: sw_dc281group_rvformation;
    default: sw_dc281_7cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc281_1car_gfx_main, vehicle_is_reversed) {
    1: sw_dc281group_rvformation;
    default: sw_dc281_1car_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc283_6cars_gfx_main, vehicle_is_reversed) {
    1: sw_dc281group_rvformation;
    default: sw_dc283_6cars_formations;
}

switch(FEAT_TRAINS, PARENT, sw_dc283_1car_gfx_main, vehicle_is_reversed) {
    1: sw_dc281group_rvformation;
    default: sw_dc283_1car_formations;
}

switch(FEAT_TRAINS, SELF, sw_dc281_7cars_subtypes, cargo_subtype) {
 0: string(STR_LV_DC281_7CARS_HET);
 1: string(STR_LV_DC281_7CARS_FURICO);
}

switch(FEAT_TRAINS, SELF, sw_dc281_1car_subtypes, cargo_subtype) {
  0: string(STR_LV_DC281_1CAR_HET_KIHA281_0_SAPPORO);
  1: string(STR_LV_DC281_1CAR_HET_KIHA281_0_HAKODATE);
  2: string(STR_LV_DC281_1CAR_FURICO_KIHA281_0_SAPPORO);
  3: string(STR_LV_DC281_1CAR_FURICO_KIHA281_0_HAKODATE);
  4: string(STR_LV_DC281_1CAR_HET_KIHA281_900_SAPPORO);
  5: string(STR_LV_DC281_1CAR_HET_KIHA281_900_HAKODATE);
  6: string(STR_LV_DC281_1CAR_FURICO_KIHA281_900_SAPPORO);
  7: string(STR_LV_DC281_1CAR_FURICO_KIHA281_900_HAKODATE);
  8: string(STR_LV_DC281_1CAR_HEAT_KIHA281_900_SAPPORO);
  9: string(STR_LV_DC281_1CAR_HEAT_KIHA281_900_HAKODATE);
    10: string(STR_LV_DC281_1CAR_KIHA280_0);
 11: string(STR_LV_DC281_1CAR_KIHA280_100);
 12: string(STR_LV_DC281_1CAR_KIRO280_0);
}

// switch(FEAT_TRAINS, SELF, sw_dc283_6cars_subtypes, cargo_subtype) {
// 	0: string(STR_LV_DC283_6CARS_INIT);
// }        

switch(FEAT_TRAINS, SELF, sw_dc283_1car_subtypes, cargo_subtype) {
 0: string(STR_LV_DC283_1CAR_INIT_KIHA283_0_SAPPORO);
 1: string(STR_LV_DC283_1CAR_INIT_KIHA283_0_KUSHIRO);
 2: string(STR_LV_DC283_1CAR_INIT_KIRO282_0);
 3: string(STR_LV_DC283_1CAR_INIT_KIHA282_0);
 4: string(STR_LV_DC283_1CAR_INIT_KIHA282_100);
 5: string(STR_LV_DC283_1CAR_INIT_KIHA282_2000);
}

switch(FEAT_TRAINS, SELF, sw_dc281_7cars_artpart, extra_callback_info1) {
    0..6: dmu281_7cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_dc283_6cars_artpart, extra_callback_info1) {
    0..5: dmu283_6cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, dmu281_7cars) {
    property {
        name: string(STR_DC281_7CARS_NAME);
        introduction_date: date(1994, 3, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 355 * 2 * 7 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 * 7 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
        // curve_speed_mod: 0.2;
    }

    graphics {
  purchase : set_dc281_purchase;

        // Below items are depends on consist
        default : sw_dc281_7cars_gfx_main;
        can_attach_wagon : sw_dc281_7cars_can_attach_wagon;
  additional_text : string(STR_DC281_7CARS_DESC);
        cargo_subtype_text: sw_dc281_7cars_subtypes;
  articulated_part : sw_dc281_7cars_artpart;
    }
}

item(FEAT_TRAINS, dmu281_1car) {
    property {
        name: string(STR_DC281_1CAR_NAME);
        introduction_date: date(1994, 3, 1);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 355 * 2 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 40 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
        variant_group: dmu281_7cars;
        curve_speed_mod: 0.2;
    }

    graphics {
  purchase : set_dc281_purchase;

        // Below items are depends on consist
        default : sw_dc281_1car_gfx_main;
        can_attach_wagon : sw_dc281_1car_can_attach_wagon;
  additional_text : string(STR_DC281_1CAR_DESC);
        cargo_subtype_text: sw_dc281_1car_subtypes;
  // articulated_part  : sw_dc281_1car_artpart;
    }
}

item(FEAT_TRAINS, dmu283_6cars) {
    property {
        name: string(STR_DC283_6CARS_NAME);
        introduction_date: date(1997, 3, 22);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 355 * 2 * 6 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 43 * 6 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
        // curve_speed_mod: 0.3;
    }

    graphics {
  purchase : set_dc283_purchase;

        // Below items are depends on consist
        default : sw_dc283_6cars_gfx_main;
        can_attach_wagon : sw_dc283_6cars_can_attach_wagon;
  additional_text : string(STR_DC283_6CARS_DESC);
        // cargo_subtype_text: sw_dc283_6cars_subtypes;
  articulated_part : sw_dc283_6cars_artpart;
    }
}

item(FEAT_TRAINS, dmu283_1car) {
    property {
        name: string(STR_DC283_1CAR_NAME);
        introduction_date: date(1997, 3, 22);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        non_refittable_cargo_classes: bitmask();
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        // cargo_allow_refit: [];
        // cargo_disallow_refit: [];
        loading_speed: param_loading_express;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 130 km/h;
        refit_cost: 0;
        power: 355 * 2 / param_diesel_decay_factor hp;
        dual_headed: 0;
        cargo_capacity: param_capacity_express;
        weight: 43 ton;
        ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
        // bitmask_vehicle_info: 0;
        variant_group: dmu283_6cars;
        curve_speed_mod: 0.3;
    }

    graphics {
  purchase : set_dc283_purchase;

        // Below items are depends on consist
        default : sw_dc283_1car_gfx_main;
        can_attach_wagon : sw_dc283_1car_can_attach_wagon;
  additional_text : string(STR_DC283_1CAR_DESC);
        cargo_subtype_text: sw_dc283_1car_subtypes;
  // articulated_part  : sw_dc283_1car_artpart;
    }
}
# 8 "src/vehicles.pnml" 2
# 1 "src/vehicles/dmuH100_series/dmuH100_main.pnml" 1
spriteset( set_H100_purchase, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_single(0, 33, 14, -25, -10) }
alternative_sprites(set_H100_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_single(0, 33, 14, -25, -10) }
// rs: Ryosan-Senko
// ry: RYosan

//     <---
// fr: Front     - Rear
// rf: Rear      - Front
// fu: Front     - unlighted
// uf: unlighted - Front
// uu: unlighted - unlighted
// ru: Rear      - unlighted
// ur: unlighted - Rear

spriteset(set_H100_rs_fr, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_H100_rs_fu, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_H100_rs_ur, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_H100_rs_uu, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }
spriteset(set_H100_ry_fr, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 5, 0) }
spriteset(set_H100_ry_fu, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 6, 0) }
spriteset(set_H100_ry_ur, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 7, 0) }
spriteset(set_H100_ry_uu, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 8, 0) }
spriteset(set_H100_rs_rf, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 9, 0) }
spriteset(set_H100_rs_ru, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(10, 0) }
spriteset(set_H100_rs_uf, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(11, 0) }
spriteset(set_H100_ry_rf, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(13, 0) }
spriteset(set_H100_ry_ru, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(14, 0) }
spriteset(set_H100_ry_uf, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(15, 0) }

spriteset(set_H100f_rs_fr, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_H100f_rs_fu, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_H100f_rs_ur, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_H100f_rs_uu, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }
spriteset(set_H100f_ry_fr, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 5, 1) }
spriteset(set_H100f_ry_fu, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 6, 1) }
spriteset(set_H100f_ry_ur, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 7, 1) }
spriteset(set_H100f_ry_uu, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 8, 1) }
spriteset(set_H100f_rs_rf, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views( 9, 1) }
spriteset(set_H100f_rs_ru, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(10, 1) }
spriteset(set_H100f_rs_uf, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(11, 1) }
spriteset(set_H100f_ry_rf, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(13, 1) }
spriteset(set_H100f_ry_ru, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(14, 1) }
spriteset(set_H100f_ry_uf, "gfx/8bpp/H100-8bpp.png") { tmpl_vehicle_8_views(15, 1) }

alternative_sprites(set_H100_rs_fr, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_H100_rs_fu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_H100_rs_ur, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_H100_rs_uu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }
alternative_sprites(set_H100_ry_fr, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 5, 0) }
alternative_sprites(set_H100_ry_fu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 6, 0) }
alternative_sprites(set_H100_ry_ur, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 7, 0) }
alternative_sprites(set_H100_ry_uu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 8, 0) }
alternative_sprites(set_H100_rs_rf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 9, 0) }
alternative_sprites(set_H100_rs_ru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(10, 0) }
alternative_sprites(set_H100_rs_uf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(11, 0) }
alternative_sprites(set_H100_ry_rf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(13, 0) }
alternative_sprites(set_H100_ry_ru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(14, 0) }
alternative_sprites(set_H100_ry_uf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(15, 0) }

alternative_sprites(set_H100f_rs_fr, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_H100f_rs_fu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_H100f_rs_ur, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_H100f_rs_uu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }
alternative_sprites(set_H100f_ry_fr, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 5, 1) }
alternative_sprites(set_H100f_ry_fu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 6, 1) }
alternative_sprites(set_H100f_ry_ur, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 7, 1) }
alternative_sprites(set_H100f_ry_uu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 8, 1) }
alternative_sprites(set_H100f_rs_rf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views( 9, 1) }
alternative_sprites(set_H100f_rs_ru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(10, 1) }
alternative_sprites(set_H100f_rs_uf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(11, 1) }
alternative_sprites(set_H100f_ry_rf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(13, 1) }
alternative_sprites(set_H100f_ry_ru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(14, 1) }
alternative_sprites(set_H100f_ry_uf, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/H100-32bpp.png") { tmpl_vehicle_8_views(15, 1) }

switch(FEAT_TRAINS, SELF, sw_H100_can_attach_wagon, vehicle_type_id) {
 dmuH100: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_H100_CANNOT_ATTACH_OTHER);
}


switch(FEAT_TRAINS, SELF, sw_H100_rs_isRear, position_in_consist_from_end == 0) {
 1: set_H100_rs_ur;
 default: set_H100_rs_uu;
}

switch(FEAT_TRAINS, SELF, sw_H100_rs_isFront, position_in_consist == 0) {
 1: set_H100_rs_fu;
 default: sw_H100_rs_isRear;
}

switch(FEAT_TRAINS, SELF, sw_H100_rs_isAlone, (position_in_consist == 0 && position_in_consist_from_end == 0)) {
 1: set_H100_rs_fr;
 default: sw_H100_rs_isFront;
}

switch(FEAT_TRAINS, SELF, sw_H100f_rs_isRear, position_in_consist == 0) {
 1: set_H100f_rs_uf;
 default: set_H100f_rs_uu;
}

switch(FEAT_TRAINS, SELF, sw_H100f_rs_isFront, position_in_consist_from_end == 0) {
 1: set_H100f_rs_ru;
 default: sw_H100f_rs_isRear;
}

switch(FEAT_TRAINS, SELF, sw_H100f_rs_isAlone, (position_in_consist == 0 && position_in_consist_from_end == 0)) {
 1: set_H100f_rs_rf;
 default: sw_H100f_rs_isFront;
}

switch(FEAT_TRAINS, SELF, sw_H100_ry_isRear, position_in_consist_from_end == 0) {
 1: set_H100_ry_ur;
 default: set_H100_ry_uu;
}

switch(FEAT_TRAINS, SELF, sw_H100_ry_isFront, position_in_consist == 0) {
 1: set_H100_ry_fu;
 default: sw_H100_ry_isRear;
}

switch(FEAT_TRAINS, SELF, sw_H100_ry_isAlone, (position_in_consist == 0 && position_in_consist_from_end == 0)) {
 1: set_H100_ry_fr;
 default: sw_H100_ry_isFront;
}

switch(FEAT_TRAINS, SELF, sw_H100f_ry_isRear, position_in_consist == 0) {
 1: set_H100f_ry_uf;
 default: set_H100f_ry_uu;
}

switch(FEAT_TRAINS, SELF, sw_H100f_ry_isFront, position_in_consist_from_end == 0) {
 1: set_H100f_ry_ru;
 default: sw_H100f_ry_isRear;
}

switch(FEAT_TRAINS, SELF, sw_H100f_ry_isAlone, (position_in_consist == 0 && position_in_consist_from_end == 0)) {
 1: set_H100f_ry_rf;
 default: sw_H100f_ry_isFront;
}

switch(FEAT_TRAINS, SELF, sw_H100_formations, cargo_subtype) {
 0: sw_H100_ry_isAlone;
 default: sw_H100_rs_isAlone;
}

switch(FEAT_TRAINS, SELF, sw_H100f_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
 0: sw_H100f_ry_isAlone;
 default: sw_H100f_rs_isAlone;
}

switch(FEAT_TRAINS, PARENT, sw_H100_gfx_main, vehicle_is_reversed) {
 0: sw_H100_formations;
 default: sw_H100f_formations;
}

switch(FEAT_TRAINS, SELF, sw_H100_subtypes, cargo_subtype) {
 0: string(STR_LV_H100_INITIAL);
 1: string(STR_LV_H100_PROTOTYPE);
}

item(FEAT_TRAINS, dmuH100) {
    property {
        name: string(STR_H100_NAME);
        introduction_date: date(2020, 3, 14);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_DIESEL;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_DIESEL;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_DIESEL;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        // reliability_decay: 20;
        loading_speed: param_loading_suburban;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 100 km/h;
        refit_cost: 0;
        power: 105 * 2 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_suburban;
        weight: 40 ton;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
    }

    graphics {
  purchase : set_H100_purchase;

        // Below items are depends on consist
        default : sw_H100_gfx_main;
        can_attach_wagon : sw_H100_can_attach_wagon;
  additional_text : string(STR_H100_DESC);
        cargo_subtype_text: sw_H100_subtypes;
  // articulated_part  : sw_H100_artpart;
    }

}
# 9 "src/vehicles.pnml" 2
# 1 "src/vehicles/emu737_series/emu737_main.pnml" 1
spriteset( set_737_purchase, "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_single(0, 64, 14, -25, -10) }
alternative_sprites(set_737_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_single(0, 64, 14, -25,-10) }


spriteset(set_737_tc_unlighted, "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 1, 0) }
spriteset(set_737_mc_unlighted, "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 2, 0) }
spriteset(set_737_tc_front , "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 3, 0) }
spriteset(set_737_tc_rear , "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 4, 0) }
spriteset(set_737_mc_front , "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 5, 0) }
spriteset(set_737_mc_rear , "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 6, 0) }

spriteset(set_737f_tc_unlighted, "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 1, 1) }
spriteset(set_737f_mc_unlighted, "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 2, 1) }
spriteset(set_737f_tc_front , "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 3, 1) }
spriteset(set_737f_tc_rear , "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 4, 1) }
spriteset(set_737f_mc_front , "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 5, 1) }
spriteset(set_737f_mc_rear , "gfx/8bpp/737-8bpp.png") { tmpl_vehicle_8_views( 6, 1) }

alternative_sprites(set_737_tc_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 1, 0) }
alternative_sprites(set_737_mc_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 2, 0) }
alternative_sprites(set_737_tc_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 3, 0) }
alternative_sprites(set_737_tc_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 4, 0) }
alternative_sprites(set_737_mc_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 5, 0) }
alternative_sprites(set_737_mc_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 6, 0) }

alternative_sprites(set_737f_tc_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 1, 1) }
alternative_sprites(set_737f_mc_unlighted, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 2, 1) }
alternative_sprites(set_737f_tc_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 3, 1) }
alternative_sprites(set_737f_tc_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 4, 1) }
alternative_sprites(set_737f_mc_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 5, 1) }
alternative_sprites(set_737f_mc_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/32bpp/737-32bpp.png") { tmpl_vehicle_8_views( 6, 1) }

switch(FEAT_TRAINS, SELF, sw_737_2cars_can_attach_wagon, vehicle_type_id) {
 emu737_2cars: CB_RESULT_ATTACH_ALLOW;
    default: return string(STR_737_2CARS_CANNOT_ATTACH_OTHER);
}

switch(FEAT_TRAINS, SELF, sw_737_tc_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_737_tc_front;
    default: set_737_tc_unlighted;
}

switch(FEAT_TRAINS, SELF, sw_737_tc_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 1: set_737_tc_rear;
    default: set_737_tc_unlighted;
}

switch(FEAT_TRAINS, SELF, sw_737_mc_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_737_mc_front;
    default: set_737_mc_unlighted;
}

switch(FEAT_TRAINS, SELF, sw_737_mc_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 1: set_737_mc_rear;
    default: set_737_mc_unlighted;
}

switch(FEAT_TRAINS, SELF, sw_737f_tc_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_737f_tc_front;
    default: set_737f_tc_unlighted;
}

switch(FEAT_TRAINS, SELF, sw_737f_tc_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 1: set_737f_tc_rear;
    default: set_737f_tc_unlighted;
}

switch(FEAT_TRAINS, SELF, sw_737f_mc_front, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
    1: set_737f_mc_front;
    default: set_737f_mc_unlighted;
}

switch(FEAT_TRAINS, SELF, sw_737f_mc_rear, (position_in_consist == 0 || position_in_consist_from_end == 0)) {
 1: set_737f_mc_rear;
    default: set_737f_mc_unlighted;
}

switch(FEAT_TRAINS, SELF, sw_737_2cars_init, position_in_articulated_veh) {
    // <- Sapporo | Tomakomai ->
    // Tc737-0 + Mc737-0
    0: sw_737_tc_front;
    1: sw_737f_mc_rear;
}

switch(FEAT_TRAINS, SELF, sw_737f_2cars_init, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]) {
    // <- Sapporo | Tomakomai ->
    // Tc737-0 + Mc737-0
    0: sw_737f_tc_rear;
    1: sw_737_mc_front;
}

switch(FEAT_TRAINS, SELF, sw_737_2cars_formations, cargo_subtype) {
    0: sw_737_2cars_init;
}

switch(FEAT_TRAINS, SELF, sw_737f_2cars_formations, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]) {
    0: sw_737f_2cars_init;
}

switch(FEAT_TRAINS, PARENT, sw_737_2cars_gfx_main, vehicle_is_reversed) {
 1: sw_737f_2cars_formations;
 default: sw_737_2cars_formations;
}

// switch(FEAT_TRAINS, SELF, sw_737_2cars_subtypes, cargo_subtype) {
// 	0: string(STR_LV_737_INITIAL);
// }

switch (FEAT_TRAINS, SELF, sw_737_2cars_artpart, extra_callback_info1) {
 0..1: return emu737_2cars;
 default: return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, emu737_2cars) {
    property {
        name: string(STR_737_2CARS_NAME);
        introduction_date: date(2023, 5, 20);
        climates_available: ALL_CLIMATES;
        running_cost_base: RUNNING_COST_ELECTRIC;
        ai_special_flag: AI_FLAG_PASSENGER;
        engine_class: ENGINE_CLASS_ELECTRIC;
        model_life: VEHICLE_NEVER_EXPIRES;
        track_type: RAILTYPE_ELECTRIC;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        vehicle_life: 30;
        reliability_decay: 20;
        loading_speed: param_loading_suburban;
        cost_factor: 45;
        running_cost_factor: 100;
        speed: 120 km/h;
        refit_cost: 0;
        power: 190 * 4 kW;
        dual_headed: 0;
        cargo_capacity: param_capacity_suburban;
        weight: 75 ton;
        // ai_engine_rank: 0;
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.06;
        length: 8;
    }

    graphics {
        purchase : set_737_purchase;

        // Below items are depends on consist
        default : sw_737_2cars_gfx_main;
        can_attach_wagon : sw_737_2cars_can_attach_wagon;
        additional_text : string(STR_737_2CARS_DESC);
        // cargo_subtype_text: sw_737_2cars_subtypes;
        articulated_part : sw_737_2cars_artpart;
    }
}
# 10 "src/vehicles.pnml" 2
# 6 ".\\HokkaidoTrains.pnml" 2
